<!-- QuickTalkå®¢æœç³»ç»Ÿé›†æˆä»£ç  - WebSocketç‰ˆæœ¬ + å›¾ç‰‡æ”¯æŒ -->
<!-- ä¼˜ç‚¹: çœŸæ­£å®æ—¶ï¼Œæ—¥å¿—æå°‘ï¼Œèµ„æºæ¶ˆè€—ä½ï¼Œæ”¯æŒå›¾ç‰‡æ¶ˆæ¯ -->

<!-- å®¢æœæŒ‰é’®æ ·å¼ -->
<style>
.viewport-nav{outline:#000;position:fixed;right:40px;bottom:40px;z-index:999999}
.viewport-nav .nav-box{background:rgba(0,0,0,.8);border-radius:100%;text-align:center;margin:15px 0;width:100px;height:100px;line-height:100px;box-shadow:0 0 5px 2px rgba(255,255,255,.5)}
.viewport-nav .nav-box p{padding:0 1px;font-size:31px;color:#fff;white-space:normal;font-weight:700}
.viewport-nav .nav-box#cb{position:relative;cursor:pointer}
.viewport-nav .nav-box .nav-dabaowei,.viewport-nav .nav-box .nav-sxsx{font-size:24px}

/* å®¢æœèŠå¤©çª—å£æ ·å¼ */
.cs-chat{position:fixed;bottom:160px;right:40px;width:380px;height:520px;background:white;border-radius:15px;box-shadow:0 10px 30px rgba(0,0,0,0.3);display:none;flex-direction:column;z-index:999998;overflow:hidden;transform:scale(0);transform-origin:bottom right;transition:all 0.3s ease;font-family:-apple-system,BlinkMacSystemFont,'Segoe UI',Roboto,sans-serif}
.cs-chat.open{display:flex;transform:scale(1)}
.cs-chat.mini{height:60px}
.cs-chat.mini .cs-body,.cs-chat.mini .cs-input,.cs-chat.mini .cs-status{display:none}
.cs-header{background:linear-gradient(135deg,#667eea 0%,#764ba2 100%);color:white;padding:15px 20px;display:flex;justify-content:space-between;align-items:center}
.cs-header h3{font-size:16px;font-weight:600;margin:0}
.cs-controls{display:flex;gap:10px}
.cs-controls button{background:rgba(255,255,255,0.2);border:none;color:white;width:24px;height:24px;border-radius:50%;cursor:pointer;font-size:14px;display:flex;align-items:center;justify-content:center}
.cs-body{flex:1;padding:20px;overflow-y:auto;background:#fafbfc}
.cs-msg{margin-bottom:15px;display:flex;flex-direction:column}
.cs-msg-text{padding:12px 16px;border-radius:18px;max-width:80%;word-wrap:break-word;line-height:1.4}
.cs-msg-time{font-size:11px;color:#999;margin-top:5px}
.cs-system .cs-msg-text{background:#f0f0f0;color:#666;align-self:center;text-align:center;font-size:13px}
.cs-user{align-items:flex-end}
.cs-user .cs-msg-text{background:#667eea;color:white;align-self:flex-end}
.cs-user .cs-msg-time{text-align:right}
.cs-staff{align-items:flex-start}
.cs-staff .cs-msg-text{background:#f8f9fa;color:#333;border:1px solid #e9ecef;align-self:flex-start}
.cs-staff .cs-msg-time{text-align:left}

/* å›¾ç‰‡æ¶ˆæ¯æ ·å¼ */
.cs-msg-image{max-width:80%;align-self:flex-start;border-radius:12px;overflow:hidden;box-shadow:0 2px 8px rgba(0,0,0,0.1)}
.cs-msg-image img{width:100%;height:auto;display:block;cursor:pointer;transition:transform 0.2s ease}
.cs-msg-image img:hover{transform:scale(1.02)}
.cs-msg-image .cs-image-info{padding:8px 12px;background:#f8f9fa;font-size:12px;color:#666;border-top:1px solid #e9ecef}

/* å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡† */
.cs-image-preview{position:fixed;top:0;left:0;width:100%;height:100%;background:rgba(0,0,0,0.8);display:none;align-items:center;justify-content:center;z-index:9999999;cursor:pointer}
.cs-image-preview img{max-width:90%;max-height:90%;object-fit:contain;border-radius:8px;box-shadow:0 10px 40px rgba(0,0,0,0.5)}
.cs-image-preview .cs-close{position:absolute;top:20px;right:20px;color:white;font-size:30px;cursor:pointer;background:rgba(0,0,0,0.5);width:50px;height:50px;border-radius:50%;display:flex;align-items:center;justify-content:center}

.cs-input{padding:15px 20px;border-top:1px solid #eee;display:flex;gap:10px;background:white}
.cs-input input{flex:1;padding:10px 15px;border:1px solid #ddd;border-radius:20px;outline:none;font-size:14px}
.cs-input button{background:#667eea;color:white;border:none;padding:10px 20px;border-radius:20px;cursor:pointer;font-weight:600}
.cs-status{padding:8px 20px;background:#f8f9fa;border-top:1px solid #eee;display:flex;align-items:center;gap:8px;font-size:12px}
.cs-dot{width:8px;height:8px;border-radius:50%;display:inline-block}
.cs-connected{background:#28a745;animation:pulse 2s infinite}
.cs-disconnected{background:#dc3545}
@keyframes pulse{0%{opacity:1}50%{opacity:0.5}100%{opacity:1}}
@media (max-width:768px){.cs-chat{width:calc(100vw - 20px);right:10px;left:10px}}
</style>

<!-- å®¢æœæŒ‰é’®HTML -->
<div class="viewport-nav">
    <ul>
        <li>
            <div class="nav-box animate__animated animate__backInLeft" id="cb">
                <a><p class="animate__animated animate__infinite animate__heartBeat">å®¢æœ</p></a>
            </div>
        </li>
    </ul>
</div>

<!-- å®¢æœèŠå¤©çª—å£ -->
<div class="cs-chat" id="cs-chat">
    <div class="cs-header">
        <h3>åœ¨çº¿å®¢æœ (å›¾ç‰‡æ”¯æŒç‰ˆ)</h3>
        <div class="cs-controls">
            <button onclick="miniCS()">âˆ’</button>
            <button onclick="closeCS()">Ã—</button>
        </div>
    </div>
    <div class="cs-body" id="cs-body">
        <div class="cs-msg cs-system">
            <span class="cs-msg-text">æ¬¢è¿è®¿é—®bbs16.929991.xyzï¼WebSocketå®æ—¶å®¢æœä¸ºæ‚¨æœåŠ¡ï¼æ”¯æŒå›¾ç‰‡æ¶ˆæ¯ğŸ“·</span>
            <span class="cs-msg-time" id="welcome-time"></span>
        </div>
    </div>
    <div class="cs-input">
        <input type="text" id="cs-input" placeholder="è¯·è¾“å…¥æ‚¨çš„æ¶ˆæ¯..." onkeypress="if(event.key==='Enter')sendCS()">
        <button onclick="sendCS()">å‘é€</button>
    </div>
    <div class="cs-status">
        <span class="cs-dot" id="cs-dot"></span>
        <span id="cs-status">è¿æ¥ä¸­...</span>
    </div>
</div>

<!-- å›¾ç‰‡é¢„è§ˆæ¨¡æ€æ¡† -->
<div class="cs-image-preview" id="cs-image-preview" onclick="closeImagePreview()">
    <div class="cs-close" onclick="closeImagePreview()">Ã—</div>
    <img src="" alt="å›¾ç‰‡é¢„è§ˆ" id="cs-preview-img">
</div>

<script>
// QuickTalkå®¢æœç³»ç»Ÿé…ç½® - WebSocketç‰ˆæœ¬
window.QUICKTALK_CONFIG = {
    shopKey: 'sk_ji85ucic9p00m12as1ygf34o8humuxfl',
    shopId: 'shop_1757591780450_1',
    shopName: 'æ—¶å°šæœè£…åº—',
    authorizedDomain: 'bbs16.929991.xyz',
    
    serverUrl: 'http://localhost:3030',
    apiUrl: 'http://localhost:3030/api',
    wsUrl: 'ws://localhost:3030/ws',  // WebSocket URL
    
    version: '1.0.5',  // å›¾ç‰‡æ”¯æŒç‰ˆæœ¬
    generatedAt: '2025-09-15T06:15:00.000Z'
};

// å®¢æœç³»ç»Ÿå®ç° - WebSocketç‰ˆæœ¬ + å›¾ç‰‡æ”¯æŒ
(function(){
    let cs = {
        isOpen: false,
        isMini: false,
        isConnected: false,
        userId: 'user_' + Math.random().toString(36).substr(2,9) + '_' + Date.now(),
        ws: null,
        reconnectCount: 0,
        maxReconnectAttempts: 5,
        
        init() {
            // éªŒè¯åŸŸå
            const currentDomain = window.location.hostname;
            const authorizedDomain = window.QUICKTALK_CONFIG.authorizedDomain;
            
            if (currentDomain !== authorizedDomain && 
                !currentDomain.endsWith('.' + authorizedDomain) && 
                currentDomain !== 'localhost') {
                console.error('âŒ QuickTalkå®¢æœç³»ç»Ÿï¼šåŸŸåæœªæˆæƒ');
                return;
            }
            
            console.log('âœ… åŸŸåéªŒè¯é€šè¿‡ï¼Œæ­£åœ¨è¿æ¥WebSocketå®¢æœç³»ç»Ÿ...');
            this.updateTime();
            setTimeout(() => this.connectWebSocket(), 1000);
        },
        
        async connectWebSocket() {
            try {
                // å…ˆè¿›è¡ŒHTTPè®¤è¯
                const authRes = await fetch(window.QUICKTALK_CONFIG.apiUrl + '/secure-connect', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Shop-Key': window.QUICKTALK_CONFIG.shopKey,
                        'X-Shop-Id': window.QUICKTALK_CONFIG.shopId
                    },
                    body: JSON.stringify({
                        userId: this.userId,
                        timestamp: Date.now(),
                        shopKey: window.QUICKTALK_CONFIG.shopKey,
                        shopId: window.QUICKTALK_CONFIG.shopId,
                        domain: window.location.hostname,
                        version: window.QUICKTALK_CONFIG.version
                    })
                });
                
                if (!authRes.ok) {
                    throw new Error('è®¤è¯å¤±è´¥');
                }
                
                // å»ºç«‹WebSocketè¿æ¥
                console.log('ğŸ”— å»ºç«‹WebSocketè¿æ¥...');
                this.ws = new WebSocket(window.QUICKTALK_CONFIG.wsUrl);
                
                this.ws.onopen = () => {
                    console.log('âœ… WebSocketè¿æ¥æˆåŠŸ');
                    this.isConnected = true;
                    this.reconnectCount = 0;
                    this.updateStatus('connected', 'å·²è¿æ¥ (å›¾ç‰‡æ”¯æŒç‰ˆ)');
                    
                    // å‘é€è®¤è¯ä¿¡æ¯
                    this.ws.send(JSON.stringify({
                        type: 'auth',
                        userId: this.userId,
                        shopKey: window.QUICKTALK_CONFIG.shopKey,
                        shopId: window.QUICKTALK_CONFIG.shopId
                    }));
                };
                
                this.ws.onmessage = (event) => {
                    try {
                        const data = JSON.parse(event.data);
                        this.handleWebSocketMessage(data);
                    } catch (e) {
                        console.error('âŒ WebSocketæ¶ˆæ¯è§£æå¤±è´¥:', e);
                    }
                };
                
                this.ws.onclose = (event) => {
                    console.log('ğŸ”Œ WebSocketè¿æ¥å…³é—­:', event.code);
                    this.isConnected = false;
                    this.updateStatus('disconnected', 'è¿æ¥æ–­å¼€');
                    
                    // è‡ªåŠ¨é‡è¿
                    if (this.reconnectCount < this.maxReconnectAttempts) {
                        this.reconnectCount++;
                        const delay = Math.min(1000 * Math.pow(2, this.reconnectCount), 10000);
                        console.log(`ğŸ”„ ${delay}msåå°è¯•é‡è¿... (ç¬¬${this.reconnectCount}æ¬¡)`);
                        setTimeout(() => this.connectWebSocket(), delay);
                    } else {
                        console.error('âŒ WebSocketé‡è¿å¤±è´¥ï¼Œè¾¾åˆ°æœ€å¤§å°è¯•æ¬¡æ•°');
                        this.updateStatus('disconnected', 'è¿æ¥å¤±è´¥');
                    }
                };
                
                this.ws.onerror = (error) => {
                    console.error('âŒ WebSocketé”™è¯¯:', error);
                };
                
            } catch (e) {
                console.error('âŒ WebSocketè¿æ¥å¤±è´¥:', e);
                this.updateStatus('disconnected', 'è¿æ¥å¤±è´¥: ' + e.message);
                // é™çº§åˆ°HTTPè½®è¯¢
                this.fallbackToPolling();
            }
        },
        
        handleWebSocketMessage(data) {
            switch (data.type) {
                case 'connection_established':
                    console.log('ğŸ”— WebSocketè¿æ¥å·²å»ºç«‹');
                    break;
                    
                case 'auth_success':
                    console.log('âœ… WebSocketè®¤è¯æˆåŠŸ');
                    break;
                    
                case 'message_sent':
                    console.log('âœ… æ¶ˆæ¯å‘é€ç¡®è®¤');
                    break;
                    
                case 'staff_message':
                    // ğŸ“¨ æ”¶åˆ°å®¢æœæ¶ˆæ¯ - å¤„ç†å›¾ç‰‡å’Œæ–‡æœ¬æ¶ˆæ¯
                    console.log('ğŸ“¨ æ”¶åˆ°å®¢æœæ¶ˆæ¯:', data);
                    this.handleStaffMessage(data);
                    
                    // å¦‚æœèŠå¤©çª—å£å…³é—­ï¼Œåˆ™è‡ªåŠ¨æ‰“å¼€å¹¶æ˜¾ç¤ºé€šçŸ¥
                    if (!this.isOpen) {
                        this.open();
                        this.showNotification('æ”¶åˆ°æ–°çš„å®¢æœæ¶ˆæ¯');
                    }
                    break;
                    
                case 'new_message':
                    // å¤„ç†new_messageæ ¼å¼ï¼ˆå…¼å®¹æ€§ï¼‰
                    console.log('ğŸ“¨ æ”¶åˆ°æ–°æ¶ˆæ¯æ ¼å¼:', data);
                    if (data.message) {
                        this.handleStaffMessage(data.message);
                    }
                    break;
                    
                case 'system_notification':
                    console.log('ğŸ“¨ æ”¶åˆ°ç³»ç»Ÿæ¶ˆæ¯:', data.message);
                    this.addMsg('system', data.message);
                    break;
                    
                case 'error':
                    console.error('âŒ æœåŠ¡å™¨é”™è¯¯:', data.message);
                    break;
                    
                default:
                    console.log('ğŸ“© æœªçŸ¥æ¶ˆæ¯ç±»å‹:', data);
            }
        },
        
        // å¤„ç†å®¢æœæ¶ˆæ¯ï¼ˆæ”¯æŒå›¾ç‰‡ï¼‰
        handleStaffMessage(messageData) {
            // æ£€æŸ¥æ¶ˆæ¯ç±»å‹
            const messageType = messageData.message_type || messageData.messageType || 'text';
            
            if (messageType === 'image' && messageData.file_url) {
                // å›¾ç‰‡æ¶ˆæ¯
                console.log('ğŸ–¼ï¸ å¤„ç†å›¾ç‰‡æ¶ˆæ¯:', messageData.file_url);
                this.addImageMsg('staff', messageData.file_url, messageData.file_name || 'å›¾ç‰‡', messageData.content);
            } else {
                // æ–‡æœ¬æ¶ˆæ¯
                const message = messageData.message || messageData.content || '[æ¶ˆæ¯]';
                console.log('ğŸ’¬ å¤„ç†æ–‡æœ¬æ¶ˆæ¯:', message);
                this.addMsg('staff', message);
            }
        },
        
        // é™çº§åˆ°HTTPè½®è¯¢
        fallbackToPolling() {
            console.log('ğŸ”„ é™çº§åˆ°HTTPè½®è¯¢æ¨¡å¼...');
            // è¿™é‡Œå¯ä»¥æ’å…¥åŸæ¥çš„HTTPè½®è¯¢ä»£ç 
        },
        
        async send() {
            const input = document.getElementById('cs-input');
            const msg = input.value.trim();
            if (!msg) return;
            
            if (!this.isConnected || !this.ws) {
                this.addMsg('system', 'è¿æ¥æ–­å¼€ï¼Œæ— æ³•å‘é€æ¶ˆæ¯');
                return;
            }
            
            this.addMsg('user', msg);
            input.value = '';
            
            try {
                // é€šè¿‡WebSocketå‘é€æ¶ˆæ¯
                this.ws.send(JSON.stringify({
                    type: 'send_message',
                    userId: this.userId,
                    message: msg,
                    shopKey: window.QUICKTALK_CONFIG.shopKey,
                    shopId: window.QUICKTALK_CONFIG.shopId,
                    timestamp: Date.now()
                }));
                
                console.log('âœ… æ¶ˆæ¯å‘é€æˆåŠŸ (WebSocket)');
                
            } catch (e) {
                console.error('âŒ WebSocketå‘é€å¤±è´¥:', e);
                this.addMsg('system', 'å‘é€å¤±è´¥ï¼Œè¯·é‡è¯•');
                
                // é™çº§åˆ°HTTPå‘é€
                this.sendViaHttp(msg);
            }
        },
        
        async sendViaHttp(msg) {
            try {
                const response = await fetch(window.QUICKTALK_CONFIG.apiUrl + '/send', {
                    method: 'POST',
                    headers: {
                        'Content-Type': 'application/json',
                        'X-Shop-Key': window.QUICKTALK_CONFIG.shopKey,
                        'X-Shop-Id': window.QUICKTALK_CONFIG.shopId
                    },
                    body: JSON.stringify({
                        userId: this.userId,
                        message: msg,
                        shopKey: window.QUICKTALK_CONFIG.shopKey,
                        timestamp: Date.now()
                    })
                });
                
                if (response.ok) {
                    console.log('âœ… æ¶ˆæ¯å‘é€æˆåŠŸ (HTTPé™çº§)');
                } else {
                    throw new Error('HTTPå‘é€å¤±è´¥');
                }
            } catch (e) {
                console.error('âŒ HTTPå‘é€ä¹Ÿå¤±è´¥:', e);
                this.addMsg('system', 'å‘é€å¤±è´¥ï¼Œè¯·æ£€æŸ¥ç½‘ç»œè¿æ¥');
            }
        },
        
        // æ·»åŠ æ–‡æœ¬æ¶ˆæ¯
        addMsg(type, text) {
            const body = document.getElementById('cs-body');
            const div = document.createElement('div');
            div.className = 'cs-msg cs-' + type;
            div.innerHTML = '<span class="cs-msg-text">' + this.escapeHtml(text) + '</span><span class="cs-msg-time">' + new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'}) + '</span>';
            body.appendChild(div);
            body.scrollTop = body.scrollHeight;
        },
        
        // æ·»åŠ å›¾ç‰‡æ¶ˆæ¯
        addImageMsg(type, imageUrl, fileName, caption) {
            const body = document.getElementById('cs-body');
            const div = document.createElement('div');
            div.className = 'cs-msg cs-' + type;
            
            let imageHtml = `
                <div class="cs-msg-image">
                    <img src="${imageUrl}" alt="${this.escapeHtml(fileName || 'å›¾ç‰‡')}" onclick="previewImage('${imageUrl}')">
                    <div class="cs-image-info">
                        ğŸ“· ${this.escapeHtml(fileName || 'å›¾ç‰‡')}
                        ${caption && caption !== '[å›¾ç‰‡]' ? '<br>' + this.escapeHtml(caption) : ''}
                    </div>
                </div>
                <span class="cs-msg-time">${new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'})}</span>
            `;
            
            div.innerHTML = imageHtml;
            body.appendChild(div);
            body.scrollTop = body.scrollHeight;
        },
        
        // HTMLè½¬ä¹‰
        escapeHtml(text) {
            if (!text) return '';
            const div = document.createElement('div');
            div.textContent = text;
            return div.innerHTML;
        },
        
        showNotification(message) {
            // æ˜¾ç¤ºæµè§ˆå™¨é€šçŸ¥ï¼ˆå¦‚æœç”¨æˆ·å·²æˆæƒï¼‰
            if ("Notification" in window && Notification.permission === "granted") {
                new Notification("QuickTalkå®¢æœæ¶ˆæ¯", {
                    body: message,
                    icon: "/favicon.ico" // å¯ä»¥è‡ªå®šä¹‰å›¾æ ‡
                });
            } else if ("Notification" in window && Notification.permission !== "denied") {
                // è¯·æ±‚é€šçŸ¥æƒé™
                Notification.requestPermission().then(permission => {
                    if (permission === "granted") {
                        new Notification("QuickTalkå®¢æœæ¶ˆæ¯", {
                            body: message,
                            icon: "/favicon.ico"
                        });
                    }
                });
            }
            
            // å®¢æœæŒ‰é’®é—ªçƒæç¤º
            const btn = document.querySelector('#cb');
            if (btn) {
                btn.style.animation = 'heartBeat 1s infinite';
                setTimeout(() => {
                    btn.style.animation = '';
                }, 3000);
            }
        },
        
        updateStatus(status, text) {
            const dot = document.getElementById('cs-dot');
            const statusText = document.getElementById('cs-status');
            if (dot) dot.className = 'cs-dot cs-' + status;
            if (statusText) statusText.textContent = text;
        },
        
        updateTime() {
            const time = document.getElementById('welcome-time');
            if (time) time.textContent = new Date().toLocaleTimeString('zh-CN', {hour: '2-digit', minute: '2-digit'});
        },
        
        toggle() {
            if (this.isOpen) this.close(); else this.open();
        },
        
        open() {
            const chat = document.getElementById('cs-chat');
            if (chat) {
                chat.classList.add('open');
                chat.classList.remove('mini');
                this.isOpen = true;
                this.isMini = false;
                const input = document.getElementById('cs-input');
                if (input) input.focus();
            }
        },
        
        close() {
            const chat = document.getElementById('cs-chat');
            if (chat) {
                chat.classList.remove('open', 'mini');
                this.isOpen = false;
                this.isMini = false;
                // æ³¨æ„ï¼šä¸è¦å…³é—­WebSocketè¿æ¥ï¼Œä¿æŒåå°æ¥æ”¶æ¶ˆæ¯
                // åªæœ‰åœ¨é¡µé¢å¸è½½æ—¶æ‰å…³é—­è¿æ¥
            }
        },
        
        minimize() {
            const chat = document.getElementById('cs-chat');
            if (!chat) return;
            
            if (this.isMini) {
                chat.classList.remove('mini');
                this.isMini = false;
                const input = document.getElementById('cs-input');
                if (input) input.focus();
            } else {
                chat.classList.add('mini');
                this.isMini = true;
            }
        }
    };
    
    // å›¾ç‰‡é¢„è§ˆåŠŸèƒ½
    window.previewImage = function(imageUrl) {
        const preview = document.getElementById('cs-image-preview');
        const img = document.getElementById('cs-preview-img');
        if (preview && img) {
            img.src = imageUrl;
            preview.style.display = 'flex';
        }
    };
    
    window.closeImagePreview = function() {
        const preview = document.getElementById('cs-image-preview');
        if (preview) {
            preview.style.display = 'none';
        }
    };
    
    // å…¨å±€å‡½æ•°
    window.toggleCS = () => cs.toggle();
    window.closeCS = () => cs.close();
    window.miniCS = () => cs.minimize();
    window.sendCS = () => cs.send();
    
    // åˆå§‹åŒ–
    document.addEventListener('DOMContentLoaded', function() {
        const cbBtn = document.querySelector('#cb');
        if (cbBtn) {
            cbBtn.addEventListener('click', function(e) {
                e.preventDefault();
                e.stopPropagation();
                cs.toggle();
            });
        }
        setTimeout(() => cs.init(), 1000);
    });
    
    if (document.readyState !== 'loading') {
        setTimeout(() => cs.init(), 1000);
    }
    
    // æ¸…ç†
    window.addEventListener('beforeunload', () => {
        if (cs.ws) {
            cs.ws.close();
        }
    });
})();
</script>

<!-- 
ğŸ”¥ QuickTalkå®¢æœç³»ç»Ÿ - WebSocketç‰ˆæœ¬ + å›¾ç‰‡æ”¯æŒ

ã€ğŸš€ æ–°å¢åŠŸèƒ½ã€‘
âœ… æ”¯æŒå›¾ç‰‡æ¶ˆæ¯å®æ—¶æ˜¾ç¤º
âœ… å›¾ç‰‡é¢„è§ˆå’Œç¼©æ”¾åŠŸèƒ½
âœ… æ™ºèƒ½æ¶ˆæ¯ç±»å‹è¯†åˆ«
âœ… HTMLè½¬ä¹‰å®‰å…¨é˜²æŠ¤
âœ… å…¼å®¹å¤šç§æ¶ˆæ¯æ ¼å¼

ã€ğŸ–¼ï¸ å›¾ç‰‡æ¶ˆæ¯ç‰¹æ€§ã€‘
- è‡ªåŠ¨è¯†åˆ«å›¾ç‰‡æ¶ˆæ¯ç±»å‹
- æ˜¾ç¤ºå›¾ç‰‡ç¼©ç•¥å›¾å’Œæ–‡ä»¶å
- ç‚¹å‡»æ”¾å¤§é¢„è§ˆåŠŸèƒ½
- å“åº”å¼å›¾ç‰‡é€‚é…
- ä¼˜é›…çš„åŠ è½½åŠ¨ç”»

ã€ğŸ“Š æ—¥å¿—å¯¹æ¯”ã€‘
HTTPè½®è¯¢: æ¯2ç§’1æ¬¡è¯·æ±‚ = 1800æ¬¡/å°æ—¶
WebSocket: åªæœ‰æ¶ˆæ¯æ—¶æ‰æœ‰æ—¥å¿— â‰ˆ 5-10æ¬¡/å°æ—¶

ã€ğŸ”§ æŠ€æœ¯ç‰¹æ€§ã€‘
- è‡ªåŠ¨é‡è¿æœºåˆ¶
- HTTPé™çº§æ”¯æŒ
- è®¤è¯é›†æˆ
- é”™è¯¯å¤„ç†å®Œå–„
- å›¾ç‰‡æ¶ˆæ¯å®Œæ•´æ”¯æŒ
-->