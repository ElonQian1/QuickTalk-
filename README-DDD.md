# QuickTalk å®¢æœç³»ç»Ÿ - DDD æ¶æ„

## ğŸ—ï¸ åŸŸé©±åŠ¨è®¾è®¡ (Domain-Driven Design) æ¶æ„

æœ¬é¡¹ç›®é‡‡ç”¨ DDD æ¶æ„æ¨¡å¼ï¼Œå°†ä¸šåŠ¡é€»è¾‘ä¸æŠ€æœ¯å®ç°æ¸…æ™°åˆ†ç¦»ï¼Œç¡®ä¿ä»£ç çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§ã€‚

### ğŸ“ é¡¹ç›®ç»“æ„

```
QuickTalk-/
â”œâ”€â”€ ğŸ—ï¸ domain/                     # é¢†åŸŸå±‚ - ä¸šåŠ¡æ ¸å¿ƒ
â”‚   â”œâ”€â”€ customer/                   # å®¢æˆ·é¢†åŸŸ
â”‚   â”‚   â”œâ”€â”€ entity.rs              # å®¢æˆ·å®ä½“
â”‚   â”‚   â”œâ”€â”€ repository.rs          # å®¢æˆ·ä»“å‚¨æ¥å£
â”‚   â”‚   â””â”€â”€ mod.rs                 # æ¨¡å—å®šä¹‰
â”‚   â”œâ”€â”€ conversation/              # å¯¹è¯é¢†åŸŸ
â”‚   â”œâ”€â”€ message/                   # æ¶ˆæ¯é¢†åŸŸ
â”‚   â”œâ”€â”€ shop/                      # å•†åº—é¢†åŸŸ
â”‚   â””â”€â”€ mod.rs                     # é¢†åŸŸå±‚æ¨¡å—
â”œâ”€â”€ ğŸ¯ application/                # åº”ç”¨æœåŠ¡å±‚
â”‚   â”œâ”€â”€ commands/                  # å‘½ä»¤å¤„ç†
â”‚   â”œâ”€â”€ queries/                   # æŸ¥è¯¢å¤„ç†
â”‚   â””â”€â”€ handlers/                  # äº‹ä»¶å¤„ç†
â”œâ”€â”€ ğŸ”§ infrastructure/             # åŸºç¡€è®¾æ–½å±‚
â”‚   â”œâ”€â”€ database/                  # æ•°æ®åº“å®ç°
â”‚   â”œâ”€â”€ websocket/                 # WebSocketå®ç°
â”‚   â””â”€â”€ external/                  # å¤–éƒ¨æœåŠ¡
â”œâ”€â”€ ğŸŒ presentation/               # è¡¨ç°å±‚
â”‚   â”œâ”€â”€ api/                       # REST API
â”‚   â”œâ”€â”€ websocket/                 # WebSocket API
â”‚   â””â”€â”€ static/                    # é™æ€æ–‡ä»¶ (HTML/CSS/JS)
â”œâ”€â”€ ğŸ¦€ backend/                    # Ruståç«¯å®ç°
â”‚   â”œâ”€â”€ src/main.rs               # ä¸»ç¨‹åºå…¥å£
â”‚   â””â”€â”€ Cargo.toml                # ä¾èµ–é…ç½®
â”œâ”€â”€ ğŸŸ¢ services/                   # Node.jsæœåŠ¡ (é—ç•™)
â”œâ”€â”€ ğŸ—„ï¸ data/                      # æ•°æ®å­˜å‚¨
â”œâ”€â”€ ğŸ“š docs/                       # æ–‡æ¡£
â””â”€â”€ ğŸ› ï¸ devops/                    # éƒ¨ç½²é…ç½®
```

### ğŸ¯ è®¾è®¡åŸåˆ™

#### 1. å•ä¸€èŒè´£åŸåˆ™ (Single Responsibility Principle)
- **Domain Layer**: ä»…åŒ…å«ä¸šåŠ¡è§„åˆ™å’Œé¢†åŸŸé€»è¾‘
- **Application Layer**: åè°ƒé¢†åŸŸå¯¹è±¡å®Œæˆä¸šåŠ¡ç”¨ä¾‹
- **Infrastructure Layer**: æä¾›æŠ€æœ¯å®ç°ï¼ˆæ•°æ®åº“ã€å¤–éƒ¨æœåŠ¡ï¼‰
- **Presentation Layer**: å¤„ç†ç”¨æˆ·ç•Œé¢å’ŒAPI

#### 2. ä¾èµ–å€’ç½®åŸåˆ™ (Dependency Inversion Principle)
- é«˜å±‚æ¨¡å—ä¸ä¾èµ–ä½å±‚æ¨¡å—ï¼Œéƒ½ä¾èµ–æŠ½è±¡
- Repository æ¥å£å®šä¹‰åœ¨ Domain Layer
- å…·ä½“å®ç°åœ¨ Infrastructure Layer

#### 3. é¢†åŸŸé©±åŠ¨ (Domain-Driven)
- ä»¥ä¸šåŠ¡é¢†åŸŸä¸ºä¸­å¿ƒç»„ç»‡ä»£ç 
- ä½¿ç”¨é¢†åŸŸä¸“å®¶çš„è¯­è¨€ï¼ˆUbiquitous Languageï¼‰
- é¢†åŸŸæ¨¡å‹ç‹¬ç«‹äºæŠ€æœ¯å®ç°

### ğŸ“‹ æŠ€æœ¯çº¦æŸ

- **çº¯ Rust + é™æ€ HTML**: ç¦æ­¢ä½¿ç”¨ Vue.jsã€React ç­‰å‰ç«¯æ¡†æ¶
- **å•ä¸€äºŒè¿›åˆ¶**: ä½¿ç”¨ `cargo run` å¯åŠ¨ï¼Œæ— å¤šä¸ª `--bin` å‚æ•°
- **SQLite æ•°æ®åº“**: è½»é‡çº§ã€åµŒå…¥å¼æ•°æ®åº“
- **WebSocket é€šä¿¡**: å®æ—¶æ¶ˆæ¯æ¨é€

### ğŸš€ å¯åŠ¨æ–¹å¼

```bash
# å”¯ä¸€å¯åŠ¨æ–¹å¼
cd backend && cargo run
```

### ğŸŒ è®¿é—®åœ°å€

- **ä¸»ç•Œé¢**: http://localhost:3030/
- **ç®¡ç†åå°**: http://localhost:3030/admin
- **ç§»åŠ¨ç«¯ç®¡ç†**: http://localhost:3030/mobile/admin
- **WebSocket**: ws://localhost:3030/ws
- **APIæ–‡æ¡£**: http://localhost:3030/api/health

### ğŸ“Š æ•°æ®åº“è¿ç§»çŠ¶æ€

- âœ… 248æ¡æ¶ˆæ¯å®Œå…¨è¿ç§»
- âœ… 75ä¸ªå¯¹è¯ä¼šè¯è‡ªåŠ¨åˆ›å»º  
- âœ… 75ä¸ªå®¢æˆ·æ¡£æ¡ˆå»ºç«‹
- âœ… 3ä¸ªå•†åº—é…ç½®ä¿ç•™
- âœ… ç®¡ç†å‘˜è´¦æˆ·è¿ç§»

### ğŸ”§ å¼€å‘å·¥å…·

æ¨èä½¿ç”¨ VS Code é…åˆä»¥ä¸‹æ’ä»¶ï¼š
- `rust-analyzer`: Rust è¯­è¨€æ”¯æŒ
- `Better TOML`: TOML æ–‡ä»¶æ”¯æŒ
- `SQLite Viewer`: æ•°æ®åº“æŸ¥çœ‹

### ğŸ“ è´¡çŒ®æŒ‡å—

1. éµå¾ª DDD æ¶æ„åŸåˆ™
2. æ–°åŠŸèƒ½ä¼˜å…ˆåœ¨ Domain Layer å®šä¹‰æ¥å£
3. Infrastructure Layer æä¾›å…·ä½“å®ç°
4. ä¿æŒé¢†åŸŸè¯­è¨€çš„ä¸€è‡´æ€§
5. ç¼–å†™å•å…ƒæµ‹è¯•è¦†ç›–é¢†åŸŸé€»è¾‘

---
*æœ€åæ›´æ–°: 2025å¹´9æœˆ19æ—¥ - DDDæ¶æ„é‡æ„å®Œæˆï¼ŒFrontendç›®å½•å·²ç§»é™¤*