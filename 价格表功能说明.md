# 💰 价格表和计算器功能说明

## 功能概述

在推广赚钱模态框中新增了价格表和价格计算器功能，基于对数定价模型为客户提供合理的批量购买优惠方案。

## 🎯 核心功能特性

### 📊 价格表
- **固定价格表**: 显示1-8套的价格明细
- **包含信息**: 购买数量、总价、单价、节省金额
- **直观展示**: 表格形式清晰显示价格对比

### 🧮 价格计算器
- **数量输入**: 支持手动输入或虚拟键盘输入
- **实时计算**: 输入数量后立即显示价格结果
- **小键盘**: 提供1-9数字键、清除键、退格键
- **结果显示**: 购买数量、总价、平均单价、节省金额

## 💡 定价模型

### 对数定价公式
```
总价 = 200 × 数量 + 2600 × ln(数量 + 1)
```

### 模型特点
- **基础利润**: 每件商品最少200元利润（10%）
- **多买优惠**: 数量越多，单价越便宜
- **合理定价**: 基于对数函数，增长逐渐放缓

### 价格示例
| 数量 | 总价 | 单价 | 节省金额 |
|------|------|------|----------|
| 1套  | ¥2,000 | ¥2,000 | ¥0 |
| 2套  | ¥3,257 | ¥1,628 | ¥743 |
| 3套  | ¥4,204 | ¥1,401 | ¥1,796 |
| 4套  | ¥4,983 | ¥1,246 | ¥3,017 |
| 5套  | ¥5,661 | ¥1,132 | ¥4,339 |
| 8套  | ¥7,380 | ¥922 | ¥8,620 |

## 🎨 界面设计

### 价格表样式
- **表格布局**: 清晰的行列结构
- **颜色区分**: 总价用红色突出，节省金额用绿色
- **悬停效果**: 鼠标悬停行高亮显示
- **响应式**: 适配不同屏幕尺寸

### 计算器样式
- **输入框**: 居中显示，支持数字输入
- **虚拟键盘**: 3×4网格布局，按键响应式
- **结果面板**: 卡片式显示计算结果
- **颜色编码**: 
  - 总价：红色加粗显示
  - 节省金额：绿色显示
  - 普通信息：灰色显示

## 🛠️ 技术实现

### 前端实现
- **HTML**: 表格和输入组件
- **CSS**: 美观的样式和响应式布局
- **JavaScript**: 实时计算和交互功能

### 核心函数
```javascript
// 对数定价模型
function calculateTotalPrice(quantity) {
    return Math.round(200 * quantity + 2600 * Math.log(quantity + 1));
}

// 初始化价格表
function initializePriceTable() {
    // 生成1-8套的价格表
}

// 实时价格计算
function calculatePrice() {
    // 根据输入数量计算价格
}
```

### 交互功能
- `inputNumber(num)` - 虚拟键盘输入
- `clearInput()` - 清除输入
- `backspace()` - 退格删除
- `calculatePrice()` - 实时计算

## 🎯 使用流程

### 查看价格表
1. 登录管理后台：http://localhost:3030/admin-new
2. 点击 "🎁 推广赚钱" 按钮
3. 在模态框中查看 "💰 套餐价格表"
4. 查看1-8套的详细价格对比

### 使用计算器
1. 在 "🧮 价格计算器" 部分
2. 使用虚拟键盘输入数量（或直接在输入框输入）
3. 实时查看计算结果：
   - 购买数量
   - 总价
   - 平均单价
   - 节省金额

## 💰 商业价值

### 客户体验
- **价格透明**: 清晰展示各种数量的价格
- **优惠可见**: 直观显示多买的节省金额
- **操作简单**: 虚拟键盘易于操作

### 销售转化
- **心理引导**: 通过价格对比引导客户购买更多
- **决策辅助**: 帮助客户快速做出购买决策
- **专业形象**: 提升品牌专业度和可信度

## 📱 响应式适配

### 桌面端
- **表格完整显示**: 所有列信息清晰可见
- **键盘布局**: 3×4网格，按键大小适中
- **结果面板**: 完整显示所有计算结果

### 移动端
- **表格滚动**: 支持横向滚动查看完整表格
- **按键优化**: 适合手指点击的按键尺寸
- **布局调整**: 垂直布局适配小屏幕

## 🎯 测试验证

### 功能测试
- ✅ 价格表显示正确（1-8套）
- ✅ 计算器输入功能正常
- ✅ 虚拟键盘响应正确
- ✅ 实时计算准确
- ✅ 清除和退格功能正常
- ✅ 价格公式计算正确

### 数据验证
- **1套**: ¥2,000（原价，无优惠）
- **2套**: ¥3,257（节省¥743）
- **4套**: ¥4,983（节省¥3,017）
- **8套**: ¥7,380（节省¥8,620）

## 🚀 扩展功能

### 后续可增加
- **自定义数量范围**: 支持更大数量的计算
- **批量折扣政策**: 更复杂的定价策略
- **价格历史**: 记录客户查询的价格信息
- **优惠券系统**: 结合优惠券的价格计算
- **分期付款**: 支持分期付款价格计算

## 📋 更新记录

- **2025-09-07**: 初始版本发布
  - 添加价格表功能
  - 实现价格计算器
  - 集成虚拟键盘
  - 基于对数模型的定价算法
  - 响应式界面设计

---

*价格表功能已完成开发并上线*  
*版本：v1.0*  
*更新时间：2025年9月7日*
