# âœ… Ubuntu éƒ¨ç½²åŒ… - æœ€ç»ˆæ¸…å•

## ğŸ“¦ éƒ¨ç½²åŒ…æ¦‚è§ˆ

**åŒ…åç§°**: ubuntu-deploy-ready  
**æ€»å¤§å°**: 13.27 MB  
**æ–‡ä»¶æ•°é‡**: 81 ä¸ª  
**ç¼–è¯‘æ—¶é—´**: 2025å¹´10æœˆ15æ—¥  
**çŠ¶æ€**: âœ… å°±ç»ª - å¯ç«‹å³éƒ¨ç½²

---

## ğŸ“‹ æ–‡ä»¶æ¸…å•

### 1. æ ¸å¿ƒäºŒè¿›åˆ¶æ–‡ä»¶ âœ…
```
customer-service-backend (8.04 MB)
â”œâ”€ ç¼–è¯‘æ—¶é—´: åˆšåˆšå®Œæˆ (1åˆ†41ç§’)
â”œâ”€ ç›®æ ‡å¹³å°: x86_64-unknown-linux-musl
â”œâ”€ åŠŸèƒ½ç‰¹æ€§: HTTPS + Sea-ORM + WebSocket
â””â”€ ä¾èµ–: é›¶ç³»ç»Ÿä¾èµ– (é™æ€é“¾æ¥)
```

### 2. é…ç½®æ–‡ä»¶ âœ…
```
.env (2.34 KB)
â”œâ”€ HTTPS å¼ºåˆ¶æ¨¡å¼
â”œâ”€ Sea-ORM è‡ªåŠ¨è¿ç§»
â”œâ”€ JWT å®‰å…¨é…ç½®
â””â”€ æ‰€æœ‰ç”Ÿäº§ç¯å¢ƒé…ç½®

.env.example (1.97 KB)
â””â”€ é…ç½®ç¤ºä¾‹å’Œè¯´æ˜

customer-service.service (0.64 KB)
â””â”€ systemd æœåŠ¡é…ç½®
```

### 3. éƒ¨ç½²è„šæœ¬ âœ…
```
deploy.sh (4.15 KB)
â””â”€ ä¸€é”®è‡ªåŠ¨éƒ¨ç½²è„šæœ¬

start.sh (8.53 KB)
â””â”€ æ‰‹åŠ¨å¯åŠ¨æœåŠ¡è„šæœ¬

setup-https.sh (5.05 KB)
â””â”€ SSL è¯ä¹¦é…ç½®è„šæœ¬

deploy-check.sh (6.55 KB)
â””â”€ éƒ¨ç½²å‰ç¯å¢ƒæ£€æŸ¥
```

### 4. SSL è¯ä¹¦ âœ…
```
certs/
â”œâ”€ server.crt (1.02 KB)
â”œâ”€ server.key (1.66 KB)
â”œâ”€ server.crt.backup
â””â”€ server.key.backup
```

### 5. é™æ€èµ„æº âœ…
```
static/ (~5 MB)
â”œâ”€ index.html - React ç®¡ç†ç•Œé¢
â”œâ”€ static/js/ - å‰ç«¯ JavaScript
â”œâ”€ static/css/ - æ ·å¼æ–‡ä»¶
â”œâ”€ sdk/ - WebSocket SDK
â”‚   â”œâ”€ index.js (13.04 KB)
â”‚   â”œâ”€ advanced-sdk.js (16.55 KB)
â”‚   â””â”€ TypeScript ç±»å‹å®šä¹‰
â”œâ”€ embed/ - åµŒå…¥å¼ç»„ä»¶
â””â”€ uploads/ - ä¸Šä¼ æ–‡ä»¶ç¤ºä¾‹
```

### 6. æ–‡æ¡£ âœ…
```
README.md (6.38 KB) - å®Œæ•´éƒ¨ç½²æŒ‡å—
ä¸Šä¼ æŒ‡å—.md (2.09 KB) - å¿«é€Ÿä¸Šä¼ è¯´æ˜
éƒ¨ç½²æ£€æŸ¥æŠ¥å‘Š.md (4.36 KB) - ç¯å¢ƒæ£€æŸ¥
æœ€ç»ˆéƒ¨ç½²æ£€æŸ¥.md (5.XX KB) - æœ€ç»ˆéªŒè¯æŠ¥å‘Š
```

---

## ğŸ”§ æŠ€æœ¯è§„æ ¼

### ç¼–è¯‘é…ç½®
- **ç¼–è¯‘å™¨**: cargo-zigbuild
- **ç›®æ ‡å¹³å°**: x86_64-unknown-linux-musl
- **ä¼˜åŒ–çº§åˆ«**: release (opt-level=3)
- **LTO**: å¯ç”¨ (lto=true)
- **ä»£ç ç”Ÿæˆå•å…ƒ**: 1
- **Panic æ¨¡å¼**: abort

### ä¾èµ–ç‰¹æ€§
- **SQLx**: runtime-tokio-rustls (é¿å… OpenSSL)
- **SQLite**: bundled (é™æ€é“¾æ¥)
- **TLS**: Rustls (çº¯ Rust å®ç°)
- **Sea-ORM**: 0.12.15
- **Axum**: 0.7.9 + axum-server

### è¿è¡Œæ—¶è¦æ±‚
- **æ“ä½œç³»ç»Ÿ**: Ubuntu 16.04+ / ä»»ä½• Linux (glibc 2.17+)
- **æ¶æ„**: x86_64
- **ç³»ç»Ÿä¾èµ–**: æ—  (é™æ€é“¾æ¥)
- **æœ€å° RAM**: 512 MB
- **æ¨è RAM**: 1 GB+

---

## ğŸŒ éƒ¨ç½²ä¿¡æ¯

### æœåŠ¡å™¨ä¿¡æ¯
- **IP åœ°å€**: 43.139.82.12
- **åŸŸå**: elontalk.duckdns.org
- **ç³»ç»Ÿ**: Ubuntu 24.04 LTS
- **éƒ¨ç½²è·¯å¾„**: /root/ubuntu-deploy-ready/

### ç½‘ç»œé…ç½®
- **HTTP ç«¯å£**: 8080 (è‡ªåŠ¨é‡å®šå‘)
- **HTTPS ç«¯å£**: 8443
- **WebSocket**: wss://elontalk.duckdns.org:8443/ws/
- **ç®¡ç†ç•Œé¢**: https://elontalk.duckdns.org:8443

### é˜²ç«å¢™è§„åˆ™
```bash
22/tcp   - SSH
8080/tcp - HTTP (é‡å®šå‘)
8443/tcp - HTTPS
```

---

## âœ… éƒ¨ç½²å‰æ£€æŸ¥

### å¿…éœ€æ¡ä»¶
- [x] å…¨æ–°ç¼–è¯‘çš„äºŒè¿›åˆ¶æ–‡ä»¶
- [x] HTTPS é…ç½®æ–‡ä»¶
- [x] SSL è¯ä¹¦æ–‡ä»¶
- [x] å‰ç«¯æ„å»ºæ–‡ä»¶
- [x] WebSocket SDK
- [x] éƒ¨ç½²è„šæœ¬å¯æ‰§è¡Œ
- [x] .env é…ç½®æ­£ç¡®
- [x] Sea-ORM è¿ç§»é…ç½®

### æ–‡ä»¶å®Œæ•´æ€§
- [x] customer-service-backend (8.04 MB)
- [x] .env (2.34 KB)
- [x] certs/server.crt (1.02 KB)
- [x] certs/server.key (1.66 KB)
- [x] static/index.html
- [x] deploy.sh
- [x] start.sh
- [x] setup-https.sh
- [x] deploy-check.sh
- [x] README.md

---

## ğŸš€ å¿«é€Ÿéƒ¨ç½²å‘½ä»¤

### æ­¥éª¤ 1: ä¸Šä¼ 
```bash
# ä» Windows ä¸Šä¼ åˆ° Ubuntu
scp -r ubuntu-deploy-ready root@43.139.82.12:/root/
```

### æ­¥éª¤ 2: éƒ¨ç½²
```bash
# SSH è¿æ¥æœåŠ¡å™¨
ssh root@43.139.82.12

# è¿›å…¥ç›®å½•
cd /root/ubuntu-deploy-ready

# æ£€æŸ¥ç¯å¢ƒ
bash deploy-check.sh

# ä¸€é”®éƒ¨ç½²
bash deploy.sh
```

### æ­¥éª¤ 3: éªŒè¯
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status customer-service

# æµ‹è¯• HTTPS è®¿é—®
curl -k https://elontalk.duckdns.org:8443

# æŸ¥çœ‹å®æ—¶æ—¥å¿—
journalctl -u customer-service -f
```

---

## ğŸ“Š é¢„æœŸç»“æœ

### æˆåŠŸæŒ‡æ ‡
- âœ… æœåŠ¡çŠ¶æ€: active (running)
- âœ… ç«¯å£ç›‘å¬: 8080, 8443
- âœ… HTTPS å“åº”: 200 OK
- âœ… HTTP é‡å®šå‘: 301 â†’ HTTPS
- âœ… æ•°æ®åº“: è‡ªåŠ¨åˆ›å»ºå’Œè¿ç§»
- âœ… æ—¥å¿—: æ— é”™è¯¯ä¿¡æ¯

### è®¿é—®æµ‹è¯•
```bash
# HTTPS ä¸»ç«™
https://elontalk.duckdns.org:8443

# ç®¡ç†åå°
https://elontalk.duckdns.org:8443/

# WebSocket æµ‹è¯•
https://elontalk.duckdns.org:8443/test-embed.html
```

---

## ğŸ¯ ä»£ç è´¨é‡

### ç¼–è¯‘è­¦å‘Š
- æ€»è®¡: 38 ä¸ªè­¦å‘Š
- ç±»å‹: æœªä½¿ç”¨çš„å˜é‡/å‡½æ•°/å¯¼å…¥
- å½±å“: æ—  (ä¸å½±å“åŠŸèƒ½)
- å»ºè®®: å¯åœ¨åç»­ä¼˜åŒ–æ—¶æ¸…ç†

### æ¶æ„åˆè§„æ€§
- âœ… ä½¿ç”¨ Rust åç«¯ (é Node.js)
- âœ… Sea-ORM æ¶æ„
- âœ… å•ä¸€ main.rs æ–‡ä»¶
- âœ… æ¨¡å—åŒ–ç»“æ„æ¸…æ™°
- âœ… æ— æ¨¡æ‹Ÿæ•°æ®
- âœ… çœŸå®æ•°æ®åº“è¿æ¥

### å®‰å…¨é…ç½®
- âœ… HTTPS å¼ºåˆ¶
- âœ… JWT è®¤è¯
- âœ… CORS é™åˆ¶
- âœ… Secure Cookies
- âœ… HSTS å¯ç”¨

---

## ğŸ“ æŠ€æœ¯æ”¯æŒ

### é—®é¢˜æ’æŸ¥
1. **æœåŠ¡å¯åŠ¨å¤±è´¥**: æŸ¥çœ‹æ—¥å¿— `journalctl -u customer-service -n 50`
2. **ç«¯å£è¢«å ç”¨**: `netstat -tlnp | grep -E ':8080|:8443'`
3. **è¯ä¹¦é—®é¢˜**: è¿è¡Œ `bash setup-https.sh`
4. **æ•°æ®åº“é”™è¯¯**: æ£€æŸ¥æƒé™ `ls -la customer_service.db`
5. **æ— æ³•è®¿é—®**: æ£€æŸ¥é˜²ç«å¢™ `ufw status`

### è”ç³»ä¿¡æ¯
- **é¡¹ç›®**: QuickTalk / ELonTalk
- **ä»“åº“**: github.com/ElonQian1/QuickTalk-
- **ç®¡ç†å‘˜**: siwmm@163.com

---

## âœ… æœ€ç»ˆç¡®è®¤

- [x] **äºŒè¿›åˆ¶æ–‡ä»¶**: æ–°ç¼–è¯‘ (2025-10-15)
- [x] **é…ç½®æ–‡ä»¶**: æ ¼å¼æ­£ç¡®ï¼ŒHTTPS å¼ºåˆ¶
- [x] **SSL è¯ä¹¦**: å·²å‡†å¤‡
- [x] **é™æ€æ–‡ä»¶**: å®Œæ•´
- [x] **éƒ¨ç½²è„šæœ¬**: å¯æ‰§è¡Œ
- [x] **æ–‡æ¡£**: é½å…¨
- [x] **æ€»å¤§å°**: 13.27 MB
- [x] **æ¶æ„åˆè§„**: 100%

**ğŸ‰ éƒ¨ç½²åŒ…å®Œå…¨å°±ç»ªï¼Œå¯ä»¥ç«‹å³ä¸Šä¼ åˆ° Ubuntu æœåŠ¡å™¨ï¼**

---

**æ¸…å•ç”Ÿæˆæ—¶é—´**: 2025å¹´10æœˆ15æ—¥  
**æœ‰æ•ˆæœŸ**: ç«‹å³å¯ç”¨  
**ä¸‹ä¸€æ­¥**: ä¸Šä¼ å¹¶éƒ¨ç½²