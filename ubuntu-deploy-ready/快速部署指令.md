# Ubuntu å¿«é€Ÿéƒ¨ç½²æŒ‡ä»¤

## âœ… éƒ¨ç½²åŒ…å‡†å¤‡å®Œæˆ

**ç¼–è¯‘æ—¶é—´**: 2025å¹´10æœˆ17æ—¥ 12:38
**åç«¯ç‰ˆæœ¬**: Rust äº¤å‰ç¼–è¯‘ (x86_64-unknown-linux-musl)
**å‰ç«¯ç‰ˆæœ¬**: React ç”Ÿäº§æ„å»º (æœ€æ–°)
**æ”¯æŒ**: HTTPS + ACME è‡ªåŠ¨è¯ä¹¦

## ğŸ¯ æ ¸å¿ƒæ–‡ä»¶çŠ¶æ€

- âœ… `customer-service-backend` (11.1MB) - æ–°ç¼–è¯‘çš„ Linux äºŒè¿›åˆ¶æ–‡ä»¶
- âœ… `static/` - æœ€æ–°å‰ç«¯æ„å»ºæ–‡ä»¶  
- âœ… `certs/` - SSL è¯ä¹¦æ–‡ä»¶
- âœ… `.env` - HTTPS ç”Ÿäº§ç¯å¢ƒé…ç½®
- âœ… `start.sh` - æ™ºèƒ½å¯åŠ¨è„šæœ¬
- âœ… `customer_service.db` - æ•°æ®åº“æ–‡ä»¶

## ğŸš€ Ubuntu éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹åˆ° Ubuntu
```bash
# å°†æ•´ä¸ª ubuntu-deploy-ready æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°ï¼š
/root/ubuntu-deploy-ready/
```

### 2. è®¾ç½®æƒé™å¹¶å¯åŠ¨
```bash
cd /root/ubuntu-deploy-ready/
chmod +x customer-service-backend
chmod +x start.sh
chmod +x *.sh

# å¯åŠ¨ HTTPS æœåŠ¡
./start.sh
```

### 3. éªŒè¯æœåŠ¡
```bash
# æ£€æŸ¥æœåŠ¡çŠ¶æ€
systemctl status customer-service

# æŸ¥çœ‹æ—¥å¿—
journalctl -f -u customer-service

# æµ‹è¯•è®¿é—®
curl -k https://localhost:8443/api/health
```

## ğŸŒ è®¿é—®åœ°å€

- **HTTPS**: https://elontalk.duckdns.org:8443
- **ç®¡ç†åå°**: https://elontalk.duckdns.org:8443
- **WebSocket SDK**: wss://elontalk.duckdns.org:8443/ws/customer/...

## ğŸ”§ é‡è¦é…ç½®

### ç¯å¢ƒå˜é‡ (.env)
- `TLS_MODE=https` - å¼ºåˆ¶ HTTPS
- `TLS_PORT=8443` - HTTPS ç«¯å£
- `ACME_ENABLED=true` - è‡ªåŠ¨è¯ä¹¦
- `TLS_DOMAIN=elontalk.duckdns.org` - åŸŸå

### é˜²ç«å¢™è®¾ç½®
```bash
ufw allow 8443/tcp
ufw enable
```

## âš¡ ç‰¹æ€§

1. **é›¶ä¾èµ–éƒ¨ç½²** - é™æ€é“¾æ¥äºŒè¿›åˆ¶æ–‡ä»¶
2. **HTTPS æ”¯æŒ** - Rustls TLS å®ç°
3. **è‡ªåŠ¨è¯ä¹¦** - Let's Encrypt + DuckDNS
4. **Sea-ORM è‡ªåŠ¨è¿ç§»** - æ•°æ®åº“è‡ªåŠ¨æ›´æ–°
5. **Systemd æœåŠ¡** - å¼€æœºè‡ªå¯åŠ¨

## ğŸ“‹ æ•…éšœæ’é™¤

### å¦‚æœæœåŠ¡æ— æ³•å¯åŠ¨ï¼š
```bash
# æ£€æŸ¥æ—¥å¿—
./customer-service-backend 2>&1 | head -20

# æ£€æŸ¥è¯ä¹¦
ls -la certs/

# æµ‹è¯• HTTP æ¨¡å¼
TLS_MODE=http ./customer-service-backend
```

### å¦‚æœè¯ä¹¦é—®é¢˜ï¼š
```bash
# é‡æ–°ç”³è¯·è¯ä¹¦
./setup-https.sh

# æˆ–ä½¿ç”¨è‡ªç­¾åè¯ä¹¦
openssl req -x509 -newkey rsa:4096 -keyout certs/server.key -out certs/server.crt -days 365 -nodes
```

---

**éƒ¨ç½²å‡†å¤‡å®Œæˆ**: âœ…  
**æ–‡ä»¶å¤¹**: `ubuntu-deploy-ready/` (å‡†å¤‡ä¸Šä¼ )  
**ä¸‹ä¸€æ­¥**: ä¸Šä¼ åˆ° Ubuntu æœåŠ¡å™¨ `/root/ubuntu-deploy-ready/`