# ELonTalk 客服系统 - Ubuntu HTTPS生产环境配置
# 更新时间: 2025年10月15日
# 部署路径: /root/ubuntu-deploy-ready/
# 用途: 强制HTTPS模式配置

# 数据库配置 (Sea-ORM 自动创建和迁移)
DATABASE_URL=sqlite:customer_service.db

# JWT 安全配置 (生产环境请修改)
JWT_SECRET=elontalk-prod-secret-2025-change-in-production

# HTTP 服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# HTTPS/TLS 强制配置
HTTPS_ENABLED=true
TLS_MODE=https
TLS_PORT=8443
TLS_DOMAIN=elontalk.duckdns.org
TLS_CERT_PATH=certs/server.crt
TLS_KEY_PATH=certs/server.key

# HTTP 到 HTTPS 重定向 (强制)
REDIRECT_HTTP=true
FORCE_HTTPS=true

# 安全配置
SECURE_COOKIES=true
STRICT_TRANSPORT_SECURITY=true
HSTS_MAX_AGE=31536000

# 日志配置
RUST_LOG=info
LOG_LEVEL=info
ENV=production

# 服务器信息 (备注)
SERVER_NAME=ELonTalk客服系统
SERVER_IP=43.139.82.12
ADMIN_EMAIL=siwmm@163.com

# DuckDNS 配置信息 (备注)
# Domain: elontalk.duckdns.org
# Token: 400bfeb6-b2fe-40e8-8cb6-7d38a2b943ca
DUCKDNS_TOKEN=400bfeb6-b2fe-40e8-8cb6-7d38a2b943ca

# Sea-ORM 数据库配置
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECT_TIMEOUT=8
AUTO_MIGRATE=true
VALIDATE_SCHEMA=true
MIGRATION_MODE=safe
BACKUP_BEFORE_MIGRATE=true

# TLS 高级配置
TLS_MIN_VERSION=1.2
TLS_MAX_VERSION=1.3
TLS_CIPHER_SUITE=secure

# 性能优化
MAX_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=75
REQUEST_TIMEOUT=60