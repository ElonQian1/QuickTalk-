# ELonTalk 客服系统 - Ubuntu HTTPS生产环境配置
# 使用前请确保已配置有效的SSL证书
# 复制此文件: cp .env.https .env

# 数据库配置 (Sea-ORM 自动创建和迁移)
DATABASE_URL=sqlite:customer_service.db

# JWT 安全配置 (生产环境请修改)
JWT_SECRET=elontalk-prod-secret-2025-change-in-production

# HTTP 服务器配置
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# HTTPS/TLS 配置 (需要有效证书)
HTTPS_ENABLED=true
TLS_MODE=https
TLS_PORT=8443
TLS_DOMAIN=elontalk.duckdns.org
TLS_CERT_PATH=certs/server.crt
TLS_KEY_PATH=certs/server.key

# HTTP 到 HTTPS 重定向
REDIRECT_HTTP=true

# 日志配置
RUST_LOG=info
LOG_LEVEL=info
ENV=production

# 服务器信息 (备注)
SERVER_NAME=ELonTalk客服系统
SERVER_IP=43.139.82.12
ADMIN_EMAIL=siwmm@163.com

# DuckDNS 配置信息 (备注)
# Domain: elontalk.duckdns.org
# Token: 400bfeb6-b2fe-40e8-8cb6-7d38a2b943ca
DUCKDNS_TOKEN=400bfeb6-b2fe-40e8-8cb6-7d38a2b943ca

# Sea-ORM 数据库配置
DATABASE_MAX_CONNECTIONS=10
DATABASE_CONNECT_TIMEOUT=8
AUTO_MIGRATE=true
VALIDATE_SCHEMA=true
MIGRATION_MODE=safe
BACKUP_BEFORE_MIGRATE=true