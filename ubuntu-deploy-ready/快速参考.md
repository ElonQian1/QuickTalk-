# 🚀 Ubuntu HTTPS 部署 - 快速参考卡

## 📦 部署包信息
```
位置: E:\duihua\customer-service-system\ubuntu-deploy-ready\
大小: ~20 MB
文件: 完整可部署包（无需压缩）
```

## 🎯 一键上传命令
```powershell
# Windows PowerShell 执行
scp -r E:\duihua\customer-service-system\ubuntu-deploy-ready root@43.139.82.12:/root/
```

## 🔧 服务器部署命令
```bash
# 1. 连接服务器
ssh root@43.139.82.12

# 2. 进入目录
cd /root/ubuntu-deploy-ready

# 3. 一键部署
chmod +x deploy.sh && ./deploy.sh

# 4. 检查状态
systemctl status customer-service

# 5. 查看日志
journalctl -u customer-service -f
```

## 🌐 访问地址
```
HTTPS: https://elontalk.duckdns.org:8443
HTTP:  http://43.139.82.12:8080 (自动重定向)
```

## ⚡ 常用管理命令
```bash
# 重启服务
systemctl restart customer-service

# 停止服务
systemctl stop customer-service

# 查看日志
journalctl -u customer-service -n 50

# 备份数据库
cp customer_service.db backup_$(date +%Y%m%d).db

# 检查端口
netstat -tulpn | grep -E '8080|8443'
```

## 🔍 快速故障排查
```bash
# 服务无法启动
journalctl -u customer-service -n 100 --no-pager

# 权限问题
chmod +x customer-service-backend
chmod 644 customer_service.db

# 端口被占用
netstat -tulpn | grep 8080
kill -9 <PID>

# 防火墙问题
ufw status verbose
ufw allow 8080/tcp
ufw allow 8443/tcp
```

## 📚 文档索引
- `部署说明_HTTPS版本.md` - 📖 完整部署指南
- `部署完成检查清单.md` - ✅ 验证步骤
- `上传指南.md` - 📤 上传说明
- `更新日志.md` - 📝 版本历史
- `QUICKSTART.md` - ⚡ 快速开始

## 🔒 HTTPS 证书说明
```
当前: 自签名证书（浏览器会警告）
升级: ./setup-https.sh (Let's Encrypt)
警告处理: 点击"高级" -> "继续访问"
```

## ⚙️ 关键配置 (.env)
```bash
DATABASE_URL=sqlite:/root/ubuntu-deploy-ready/customer_service.db
TLS_MODE=https
TLS_PORT=8443
ENABLE_HTTP_REDIRECT=true
TLS_CERT_PATH=certs/server.crt
TLS_KEY_PATH=certs/server.key
```

## 📊 系统要求
```
系统: Ubuntu 24.04 LTS
架构: x86_64
内存: 512MB+
磁盘: 100MB+
端口: 22, 8080, 8443
```

## 🆘 紧急重启流程
```bash
# 1. 连接服务器
ssh root@43.139.82.12

# 2. 停止服务
systemctl stop customer-service

# 3. 检查进程
ps aux | grep customer-service

# 4. 强制结束（如需要）
pkill -9 customer-service

# 5. 重新启动
systemctl start customer-service

# 6. 验证状态
systemctl status customer-service
```

## ✅ 部署成功标志
- [x] 服务状态: `Active: active (running)`
- [x] 端口监听: 8080, 8443
- [x] HTTPS 可访问
- [x] 数据库已初始化
- [x] 静态文件加载正常

## 📞 支持信息
```
服务器IP: 43.139.82.12
域名: elontalk.duckdns.org
邮箱: siwmm@163.com
项目: https://github.com/ElonQian1/QuickTalk-
```

---
**版本**: v1.0.0 | **编译**: 2025-10-15 23:04 | **大小**: 8.04 MB
