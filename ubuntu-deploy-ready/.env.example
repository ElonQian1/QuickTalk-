# ==============================================
# ELonTalk 客服系统 - 环境配置文件
# ==============================================
# 
# 使用说明:
# 1. 复制此文件为 .env: cp .env.example .env
# 2. 根据您的部署环境修改配置
# 3. 重要: 修改默认密钥和敏感信息

# ==============================================
# 数据库配置
# ==============================================
DATABASE_URL=sqlite:customer_service.db
# 注意: 数据库文件将在当前目录创建

# ==============================================
# 安全配置 (必须修改!)
# ==============================================
JWT_SECRET=CHANGE-THIS-TO-A-STRONG-SECRET-KEY-IN-PRODUCTION
# 生产环境请使用: openssl rand -base64 32

# ==============================================
# 服务器配置
# ==============================================
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ==============================================
# HTTPS/TLS 配置
# ==============================================

# TLS 模式选择:
# - auto: 智能模式(推荐) - 有证书时启用HTTPS，无证书时使用HTTP
# - https: 强制HTTPS - 需要有效证书，否则启动失败
# - http: 强制HTTP - 禁用HTTPS
TLS_MODE=auto

# HTTPS 端口
TLS_PORT=8443

# 证书文件路径 (如果使用 Let's Encrypt)
TLS_CERT_PATH=/etc/letsencrypt/live/elontalk.duckdns.org/fullchain.pem
TLS_KEY_PATH=/etc/letsencrypt/live/elontalk.duckdns.org/privkey.pem

# 如果使用自签名证书，改为:
# TLS_CERT_PATH=certs/server.crt
# TLS_KEY_PATH=certs/server.key

# 域名配置
TLS_DOMAIN=elontalk.duckdns.org

# HTTP到HTTPS重定向 (仅在HTTPS模式下生效)
TLS_REDIRECT_HTTP=true

# ==============================================
# 部署环境示例配置
# ==============================================

# 开发环境 (HTTP only)
# TLS_MODE=http
# SERVER_PORT=8080

# 测试环境 (自签名证书)
# TLS_MODE=auto
# TLS_CERT_PATH=certs/server.crt
# TLS_KEY_PATH=certs/server.key
# TLS_DOMAIN=localhost

# 生产环境 (Let's Encrypt证书)
# TLS_MODE=https
# TLS_CERT_PATH=/etc/letsencrypt/live/yourdomain.com/fullchain.pem
# TLS_KEY_PATH=/etc/letsencrypt/live/yourdomain.com/privkey.pem
# TLS_DOMAIN=yourdomain.com
# JWT_SECRET=your-production-secret-key

# ==============================================
# 可选配置
# ==============================================

# 日志级别 (debug, info, warn, error)
# RUST_LOG=info

# 数据库连接池大小
# DATABASE_MAX_CONNECTIONS=10