# Ubuntuéƒ¨ç½²åŒ… - å¿«é€Ÿéƒ¨ç½²æŒ‡å—

## ğŸ“¦ éƒ¨ç½²åŒ…å†…å®¹

- `customer-service-backend` - Linuxå¯æ‰§è¡Œæ–‡ä»¶ (å¸¦HTTPSæ”¯æŒ)
- `static/` - å‰ç«¯é™æ€æ–‡ä»¶
- `certs/` - SSLè¯ä¹¦ç›®å½•
- `.env.production` - ç”Ÿäº§ç¯å¢ƒé…ç½®
- `start-production.sh` - å¯åŠ¨è„šæœ¬
- `deploy.sh` - systemdéƒ¨ç½²è„šæœ¬
- `customer-service.service` - systemdæœåŠ¡æ–‡ä»¶

## ğŸš€ å¿«é€Ÿéƒ¨ç½²æ­¥éª¤

### 1ï¸âƒ£ ä¸Šä¼ åˆ°æœåŠ¡å™¨

```bash
# åœ¨æœ¬åœ°Windowsä¸Šä¼ æ•´ä¸ªæ–‡ä»¶å¤¹
scp -r ubuntu-deploy-ready/ root@43.139.82.12:/root/
```

### 2ï¸âƒ£ ç™»å½•æœåŠ¡å™¨å¹¶å¯åŠ¨

```bash
# SSHç™»å½•åˆ°UbuntuæœåŠ¡å™¨
ssh root@43.139.82.12

# è¿›å…¥éƒ¨ç½²ç›®å½•
cd /root/ubuntu-deploy-ready

# èµ‹äºˆæ‰§è¡Œæƒé™
chmod +x start-production.sh

# è¿è¡Œå¯åŠ¨è„šæœ¬
./start-production.sh
```

### 3ï¸âƒ£ é€‰æ‹©å¯åŠ¨æ–¹å¼

è„šæœ¬ä¼šæç¤ºé€‰æ‹©å¯åŠ¨æ–¹å¼ï¼š

- **é€‰é¡¹1**: å‰å°è¿è¡Œ - é€‚åˆæµ‹è¯•ï¼Œå¯æŸ¥çœ‹å®æ—¶æ—¥å¿—
- **é€‰é¡¹2**: åå°è¿è¡Œ - ä½¿ç”¨nohupæ–¹å¼
- **é€‰é¡¹3**: systemdæœåŠ¡ - æ¨èç”Ÿäº§ç¯å¢ƒä½¿ç”¨

## ğŸŒ è®¿é—®åœ°å€

- **HTTPS (æ¨è)**: https://elontalk.duckdns.org:8443
- **HTTP (å¤‡ç”¨)**: http://43.139.82.12:8080

## ğŸ“‹ é‡è¦ä¿¡æ¯

- **éƒ¨ç½²è·¯å¾„**: `/root/ubuntu-deploy-ready/`
- **åŸŸå**: elontalk.duckdns.org
- **ç®¡ç†å‘˜é‚®ç®±**: siwmm@163.com
- **æ•°æ®åº“**: SQLite (è‡ªåŠ¨è¿ç§»)
- **è¯ä¹¦**: ACMEè‡ªåŠ¨ç”³è¯· (Let's Encrypt)

## ğŸ”§ å¸¸ç”¨å‘½ä»¤

### systemdæ–¹å¼å¯åŠ¨åï¼š

```bash
# æŸ¥çœ‹æœåŠ¡çŠ¶æ€
systemctl status customer-service.service

# æŸ¥çœ‹æ—¥å¿—
journalctl -u customer-service.service -f

# é‡å¯æœåŠ¡
systemctl restart customer-service.service

# åœæ­¢æœåŠ¡
systemctl stop customer-service.service
```

### nohupæ–¹å¼å¯åŠ¨åï¼š

```bash
# æŸ¥çœ‹æ—¥å¿—
tail -f customer-service.log

# åœæ­¢æœåŠ¡
pkill -f customer-service-backend
```

### å‰å°è¿è¡Œï¼š

- æŒ‰ `Ctrl+C` åœæ­¢æœåŠ¡

## âš ï¸ æ³¨æ„äº‹é¡¹

1. **HTTPSè¯ä¹¦**: é¦–æ¬¡å¯åŠ¨æ—¶ä¼šè‡ªåŠ¨ç”³è¯·Let's Encryptè¯ä¹¦
2. **DNSé…ç½®**: ç¡®ä¿elontalk.duckdns.orgå·²æ­£ç¡®é…ç½®DuckDNS
3. **é˜²ç«å¢™**: ç¡®ä¿8443ç«¯å£(HTTPS)å’Œ8080ç«¯å£(HTTP)å·²å¼€æ”¾
4. **æ•°æ®åº“**: é¦–æ¬¡å¯åŠ¨ä¼šè‡ªåŠ¨åˆ›å»ºå’Œè¿ç§»æ•°æ®åº“

## ğŸ› æ•…éšœæ’æŸ¥

### å¦‚æœæœåŠ¡æ— æ³•å¯åŠ¨ï¼š

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
netstat -tlnp | grep -E '8080|8443'

# æ£€æŸ¥æ—¥å¿—
journalctl -u customer-service.service -n 100

# æ‰‹åŠ¨è¿è¡ŒæŸ¥çœ‹é”™è¯¯
cd /root/ubuntu-deploy-ready
./customer-service-backend
```

### å¦‚æœè¯ä¹¦ç”³è¯·å¤±è´¥ï¼š

1. æ£€æŸ¥DNSæ˜¯å¦æ­£ç¡®é…ç½®
2. ç¡®è®¤DuckDNS Tokenæ­£ç¡®
3. æŸ¥çœ‹æ—¥å¿—ä¸­çš„è¯¦ç»†é”™è¯¯ä¿¡æ¯

## ğŸ“ é…ç½®æ–‡ä»¶è¯´æ˜

- `.env.production` - ç”Ÿäº§ç¯å¢ƒé…ç½®ï¼ŒåŒ…å«ï¼š
  - æ•°æ®åº“è·¯å¾„
  - HTTPSç«¯å£å’ŒåŸŸå
  - ACMEè¯ä¹¦é…ç½®
  - DuckDNS Token

## ğŸ”„ æ›´æ–°éƒ¨ç½²

é‡æ–°ç¼–è¯‘å¹¶ä¸Šä¼ åï¼Œåœ¨æœåŠ¡å™¨ä¸Šï¼š

```bash
cd /root/ubuntu-deploy-ready

# åœæ­¢æœåŠ¡
systemctl stop customer-service.service

# é‡æ–°å¯åŠ¨
./start-production.sh
```

---

**ç¼–è¯‘æ—¶é—´**: 2025-10-18
**åç«¯ç‰ˆæœ¬**: å¸¦HTTPSæ”¯æŒçš„äº¤å‰ç¼–è¯‘ç‰ˆæœ¬
**å‰ç«¯ç‰ˆæœ¬**: Reactç”Ÿäº§æ„å»º
