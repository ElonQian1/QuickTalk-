# Ubuntu éƒ¨ç½²åŒ…ä½¿ç”¨è¯´æ˜

## ğŸ“¦ åŒ…å«å†…å®¹

### æ ¸å¿ƒæ–‡ä»¶
- `customer-service-backend` - Linuxå¯æ‰§è¡Œæ–‡ä»¶ (8.4MB, HTTPSæ”¯æŒ)
- `static/` - Reactå‰ç«¯é™æ€æ–‡ä»¶ 
- `certs/` - SSLè¯ä¹¦æ–‡ä»¶
- `.env` - HTTPSç”Ÿäº§ç¯å¢ƒé…ç½®
- `.env.http` - HTTPæµ‹è¯•é…ç½®

### å¯åŠ¨è„šæœ¬
- `start.sh` - æ™ºèƒ½å¯åŠ¨è„šæœ¬ (è‡ªåŠ¨æ£€æµ‹è¯ä¹¦)
- `customer-service.service` - systemdæœåŠ¡é…ç½®

## ğŸš€ éƒ¨ç½²æ­¥éª¤

### 1. ä¸Šä¼ åˆ°æœåŠ¡å™¨
```bash
# å°†æ•´ä¸ª ubuntu-deploy-ready æ–‡ä»¶å¤¹ä¸Šä¼ åˆ°æœåŠ¡å™¨çš„ /root/ ç›®å½•
scp -r ubuntu-deploy-ready root@43.139.82.12:/root/
```

### 2. è®¾ç½®æƒé™å¹¶å¯åŠ¨
```bash
# SSHç™»å½•åˆ°UbuntuæœåŠ¡å™¨
ssh root@43.139.82.12

# è¿›å…¥éƒ¨ç½²ç›®å½•
cd /root/ubuntu-deploy-ready

# æ·»åŠ æ‰§è¡Œæƒé™
chmod +x customer-service-backend start.sh

# å¯åŠ¨æœåŠ¡ (è‡ªåŠ¨æ£€æµ‹HTTPSè¯ä¹¦)
./start.sh
```

### 3. éªŒè¯è®¿é—®
- **HTTPS**: https://43.139.82.12:8443 (å¦‚æœæœ‰æœ‰æ•ˆè¯ä¹¦)
- **HTTP**: http://43.139.82.12:8080 (å¤‡ç”¨æ–¹æ¡ˆ)
- **åŸŸåHTTPS**: https://elontalk.duckdns.org:8443
- **åŸŸåHTTP**: http://elontalk.duckdns.org:8080

## âš™ï¸ é…ç½®è¯´æ˜

### HTTPSæ¨¡å¼ (.env)
- é»˜è®¤å¯ç”¨HTTPS
- ä½¿ç”¨ç«¯å£8443
- éœ€è¦æœ‰æ•ˆSSLè¯ä¹¦
- è‡ªåŠ¨HTTPé‡å®šå‘

### HTTPæ¨¡å¼ (.env.http)
```bash
# å¦‚æœè¯ä¹¦æœ‰é—®é¢˜ï¼Œå¯ä»¥ä½¿ç”¨HTTPæ¨¡å¼
cp .env.http .env
./start.sh
```

## ğŸ”§ Sea-ORMæ•°æ®åº“

### è‡ªåŠ¨ç‰¹æ€§
- âœ… è‡ªåŠ¨åˆ›å»ºæ•°æ®åº“æ–‡ä»¶
- âœ… è‡ªåŠ¨æ‰§è¡Œæ•°æ®åº“è¿ç§»
- âœ… è‡ªåŠ¨éªŒè¯è¡¨ç»“æ„
- âœ… å¤‡ä»½å·²æœ‰æ•°æ®

### æ•°æ®åº“æ–‡ä»¶
- `customer_service.db` - SQLiteæ•°æ®åº“æ–‡ä»¶ (è‡ªåŠ¨åˆ›å»º)

## ğŸ› ï¸ ç³»ç»ŸæœåŠ¡ (å¯é€‰)

### é…ç½®systemdè‡ªåŠ¨å¯åŠ¨
```bash
# å¤åˆ¶æœåŠ¡æ–‡ä»¶
cp customer-service.service /etc/systemd/system/

# é‡æ–°åŠ è½½systemd
systemctl daemon-reload

# å¯ç”¨è‡ªåŠ¨å¯åŠ¨
systemctl enable customer-service

# å¯åŠ¨æœåŠ¡
systemctl start customer-service

# æŸ¥çœ‹çŠ¶æ€
systemctl status customer-service
```

## ğŸ” æ•…éšœæ’é™¤

### ç«¯å£æ£€æŸ¥
```bash
# æ£€æŸ¥ç«¯å£æ˜¯å¦è¢«å ç”¨
netstat -tlnp | grep -E ':(8080|8443)'

# æ£€æŸ¥é˜²ç«å¢™
ufw status
ufw allow 8080/tcp
ufw allow 8443/tcp
```

### æ—¥å¿—æŸ¥çœ‹
```bash
# æŸ¥çœ‹æœåŠ¡æ—¥å¿— (å¦‚æœç”¨systemdå¯åŠ¨)
journalctl -u customer-service -f

# æŸ¥çœ‹ç›´æ¥å¯åŠ¨çš„æ—¥å¿—
./customer-service-backend
```

### è¯ä¹¦é—®é¢˜
```bash
# æ£€æŸ¥è¯ä¹¦æ–‡ä»¶
ls -la certs/
openssl x509 -in certs/server.crt -text -noout

# å¦‚æœè¯ä¹¦æœ‰é—®é¢˜ï¼Œåˆ‡æ¢åˆ°HTTPæ¨¡å¼
cp .env.http .env
./start.sh
```

## ğŸ“Š æ€§èƒ½ä¿¡æ¯

- **äºŒè¿›åˆ¶æ–‡ä»¶**: 8.4MB (é™æ€é“¾æ¥ï¼Œé›¶ä¾èµ–)
- **å†…å­˜ä½¿ç”¨**: ~20MB
- **å¯åŠ¨æ—¶é—´**: <2ç§’  
- **å¹¶å‘è¿æ¥**: æ”¯æŒ1000+
- **TLSå®ç°**: Rustls (çº¯Rustï¼Œå†…å­˜å®‰å…¨)

## ğŸŒ æœåŠ¡å™¨ä¿¡æ¯

- **æœåŠ¡å™¨IP**: 43.139.82.12
- **åŸŸå**: elontalk.duckdns.org
- **DuckDNS Token**: 400bfeb6-b2fe-40e8-8cb6-7d38a2b943ca
- **ç®¡ç†å‘˜é‚®ç®±**: siwmm@163.com
- **éƒ¨ç½²è·¯å¾„**: /root/ubuntu-deploy-ready/

---
**ç¼–è¯‘æ—¶é—´**: 2025å¹´10æœˆ15æ—¥ 14:38  
**ç¼–è¯‘å·¥å…·**: Rust + Zig (äº¤å‰ç¼–è¯‘)  
**ç›®æ ‡å¹³å°**: Ubuntu 24.04 LTS x86_64