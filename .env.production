# 生产环境配置模板
# 复制为 .env 并根据实际部署环境修改

# ==========================================
# 基础配置
# ==========================================
DATABASE_URL=sqlite:customer_service.db
JWT_SECRET=CHANGE-THIS-TO-A-SECURE-RANDOM-STRING-IN-PRODUCTION
SERVER_HOST=0.0.0.0
SERVER_PORT=8080

# ==========================================
# HTTPS 生产配置
# ==========================================

# 启用HTTPS
TLS_ENABLED=true

# 证书文件路径 (绝对路径推荐)
TLS_CERT_PATH=/etc/ssl/certs/your-domain.crt
TLS_KEY_PATH=/etc/ssl/private/your-domain.key

# HTTPS端口
TLS_PORT=8443

# 域名 (与证书匹配)
TLS_DOMAIN=your-domain.com

# HTTP到HTTPS重定向
TLS_REDIRECT_HTTP=true

# 是否自动生成证书 (生产环境设为false)
TLS_AUTO_GENERATE=false

# ==========================================
# 日志配置
# ==========================================
RUST_LOG=info
RUST_BACKTRACE=1

# ==========================================
# 安全配置
# ==========================================

# 如果在反向代理后面，设置信任的代理
# TRUST_PROXY=true
# PROXY_HEADERS=true

# ==========================================
# 部署选项说明
# ==========================================

# 选项1: 反向代理 + HTTP模式 (推荐)
# - 设置 TLS_ENABLED=false
# - 使用 Nginx/Caddy 处理 HTTPS
# - 简化部署和证书管理

# 选项2: 内置HTTPS模式
# - 设置 TLS_ENABLED=true
# - 配置真实SSL证书路径
# - 适合小规模直接部署

# ==========================================
# Let's Encrypt 证书示例路径
# ==========================================
# TLS_CERT_PATH=/etc/letsencrypt/live/your-domain.com/fullchain.pem
# TLS_KEY_PATH=/etc/letsencrypt/live/your-domain.com/privkey.pem

# ==========================================
# 开发环境配置 (本地测试)
# ==========================================
# TLS_ENABLED=true
# TLS_CERT_PATH=cert.pem
# TLS_KEY_PATH=key.pem
# TLS_PORT=8443
# TLS_DOMAIN=localhost
# TLS_AUTO_GENERATE=true
# TLS_REDIRECT_HTTP=true