# QuickTalk 移动端功能测试清单

生成时间：2025-10-04  
版本：重构优化版

---

## 📋 测试环境

- **服务器地址**: http://localhost:3030
- **登录页面**: http://localhost:3030/mobile/login
- **移动端控制台**: http://localhost:3030/mobile/dashboard
- **浏览器**: Chrome/Edge (推荐使用移动设备模式)

---

## ✅ 1. 首页功能测试

### 1.1 页面加载
- [ ] 首页能正常加载显示
- [ ] 顶部导航栏显示正常
- [ ] 底部导航栏显示正常

### 1.2 统计数据
- [ ] "店铺总数"显示正确数字（不是0或undefined）
- [ ] "今日消息"显示正确数字
- [ ] 数据自动加载（页面打开时）
- [ ] 数据格式正确（整数）

### 1.3 快速操作按钮
- [ ] "💬 查看消息"按钮可点击
- [ ] "🏪 管理店铺"按钮可点击
- [ ] "➕ 新增店铺"按钮可点击
- [ ] "📊 工作台/报表"按钮可点击
- [ ] 按钮有触摸反馈效果
- [ ] 点击后正确跳转到对应页面

### 1.4 样式检查
- [ ] 统计卡片样式正常
- [ ] 按钮样式统一
- [ ] 间距和对齐正确
- [ ] 响应式布局在不同屏幕尺寸下正常

**测试命令**:
```javascript
// 在浏览器控制台运行
window.loadDashboardData();
window.testSwitchPage('home');
```

---

## ✅ 2. 消息页功能测试

### 2.1 店铺列表
- [ ] 店铺列表能正常加载
- [ ] 显示所有可用店铺
- [ ] 店铺卡片显示：名称、域名、图标
- [ ] 未读数量显示正确（如果有）
- [ ] 店铺状态显示正确

### 2.2 对话列表
- [ ] 点击店铺后进入对话列表
- [ ] 对话列表正确显示所有客户
- [ ] 客户编号正确生成
- [ ] 最后一条消息预览显示
- [ ] 时间显示为相对时间（如"5分钟前"）
- [ ] 未读消息红点显示

### 2.3 聊天界面
- [ ] 点击对话后进入聊天界面
- [ ] 历史消息正确加载
- [ ] 消息发送功能正常
- [ ] WebSocket连接正常
- [ ] 实时接收新消息
- [ ] 消息气泡样式正确（发送/接收）
- [ ] 时间戳显示正确

### 2.4 导航功能
- [ ] 返回按钮正常工作
- [ ] 从聊天界面返回对话列表
- [ ] 从对话列表返回店铺列表
- [ ] 底部导航隐藏/显示正常

### 2.5 媒体功能
- [ ] 图片上传功能
- [ ] 文件上传功能
- [ ] 语音录制功能（如有）

**测试命令**:
```javascript
// 在浏览器控制台运行
window.testSwitchPage('messages');
window.loadConversations();
```

---

## ✅ 3. 店铺页功能测试

### 3.1 店铺列表
- [ ] 店铺列表能正常加载
- [ ] 显示所有店铺（包括待审核）
- [ ] 店铺状态徽章显示正确
- [ ] 员工标识显示（如果是员工）

### 3.2 搜索和筛选
- [ ] 搜索框能正常输入
- [ ] 搜索结果实时过滤
- [ ] "按名称排序"功能正常
- [ ] "仅显示活跃"筛选正常
- [ ] "重置筛选"功能正常

### 3.3 创建店铺
- [ ] "新建店铺"按钮可点击
- [ ] 创建店铺模态框正常弹出
- [ ] 表单验证正常
- [ ] 提交后店铺创建成功
- [ ] 列表自动刷新

### 3.4 编辑店铺
- [ ] 点击店铺可打开详情
- [ ] 编辑功能正常
- [ ] 修改后保存成功
- [ ] 列表自动更新

### 3.5 删除店铺
- [ ] 删除按钮存在
- [ ] 确认提示正常
- [ ] 删除成功
- [ ] 列表自动刷新

### 3.6 员工管理
- [ ] 员工管理按钮可点击
- [ ] 员工列表正常显示
- [ ] 添加员工功能
- [ ] 删除员工功能
- [ ] 角色管理功能

**测试命令**:
```javascript
// 在浏览器控制台运行
window.testSwitchPage('shops');
window.loadShops();
```

---

## ✅ 4. 工作台页功能测试

### 4.1 页面加载
- [ ] 工作台页面能正常打开
- [ ] 统计数据正确显示

### 4.2 统计卡片
- [ ] "总对话数"显示正确
- [ ] "活跃对话"显示正确
- [ ] "未读消息"显示正确
- [ ] "总客户数"显示正确

### 4.3 快速操作
- [ ] 快速操作按钮可点击
- [ ] "查看消息"跳转正常
- [ ] "管理店铺"跳转正常
- [ ] "刷新数据"功能正常

### 4.4 活动记录
- [ ] 最近活动列表显示
- [ ] 活动时间正确
- [ ] 活动类型显示

### 4.5 系统状态
- [ ] WebSocket连接状态显示
- [ ] 最后更新时间显示
- [ ] 自动刷新功能

**测试命令**:
```javascript
// 在浏览器控制台运行
window.testSwitchPage('workbench');
if (window.workbenchManager) window.workbenchManager.refresh();
```

---

## ✅ 5. 个人中心功能测试

### 5.1 用户信息
- [ ] 用户名显示正确
- [ ] 邮箱显示正确
- [ ] 角色显示正确
- [ ] 头像显示（如有）

### 5.2 个人信息编辑
- [ ] "编辑资料"按钮可点击
- [ ] 编辑模态框正常弹出
- [ ] 修改邮箱功能
- [ ] 保存后更新成功

### 5.3 密码修改
- [ ] "修改密码"按钮可点击
- [ ] 密码修改模态框弹出
- [ ] 旧密码验证
- [ ] 新密码确认验证
- [ ] 密码长度验证（至少6位）
- [ ] 修改成功后提示

### 5.4 通知设置
- [ ] 通知设置开关显示
- [ ] "新消息通知"开关
- [ ] "员工加入通知"开关
- [ ] "店铺更新通知"开关
- [ ] "系统通知"开关
- [ ] 设置保存成功

### 5.5 关于应用
- [ ] "关于应用"可点击
- [ ] 版本信息显示
- [ ] 系统信息显示

### 5.6 退出登录
- [ ] "退出登录"按钮可点击
- [ ] 确认提示正常
- [ ] 退出后跳转到登录页

**测试命令**:
```javascript
// 在浏览器控制台运行
window.testSwitchPage('profile');
if (window.userProfileManager) window.userProfileManager.refreshUserInfo();
```

---

## ✅ 6. 样式和交互测试

### 6.1 全局样式
- [ ] 颜色主题一致
- [ ] 字体大小合适
- [ ] 间距统一
- [ ] 圆角统一

### 6.2 响应式设计
- [ ] iPhone SE (375px) 正常显示
- [ ] iPhone 12 Pro (390px) 正常显示
- [ ] Android 标准 (360px) 正常显示
- [ ] iPad Mini (768px) 正常显示

### 6.3 触摸交互
- [ ] 按钮触摸反馈
- [ ] 滑动流畅
- [ ] 长按功能（如有）
- [ ] 拖动功能（如有）

### 6.4 动画效果
- [ ] 页面切换动画
- [ ] 模态框弹出动画
- [ ] 加载动画
- [ ] 过渡效果

### 6.5 加载状态
- [ ] 骨架屏显示
- [ ] 加载中指示器
- [ ] 空状态提示
- [ ] 错误状态提示

---

## ✅ 7. 性能测试

### 7.1 加载性能
- [ ] 首屏加载时间 < 3秒
- [ ] 页面切换流畅（无卡顿）
- [ ] 数据加载无明显延迟

### 7.2 内存使用
- [ ] 长时间使用无内存泄漏
- [ ] WebSocket连接稳定
- [ ] 页面不会崩溃

### 7.3 网络性能
- [ ] API请求响应快速
- [ ] WebSocket消息及时
- [ ] 失败自动重试

---

## 🔧 常用测试命令

```javascript
// 页面切换测试
window.testSwitchPage('home');      // 切换到首页
window.testSwitchPage('messages');  // 切换到消息页
window.testSwitchPage('shops');     // 切换到店铺页
window.testSwitchPage('workbench'); // 切换到工作台
window.testSwitchPage('profile');   // 切换到个人中心

// 数据加载测试
window.loadDashboardData();         // 加载首页数据
window.loadConversations();         // 加载消息列表
window.loadShops();                 // 加载店铺列表

// 功能测试
window.testCreateShop();            // 测试创建店铺
window.testButtonClick(0);          // 测试按钮点击

// 管理器测试
if (window.workbenchManager) window.workbenchManager.refresh();
if (window.userProfileManager) window.userProfileManager.refreshUserInfo();

// WebSocket测试
if (window.messageModule && window.messageModule.websocket) {
    console.log('WebSocket状态:', window.messageModule.websocket.readyState);
}

// 模块检查
console.log('全局工具库:', window.globalUtils);
console.log('消息模块:', window.messageModule);
console.log('工作台管理器:', window.workbenchManager);
console.log('个人中心管理器:', window.userProfileManager);
```

---

## 📝 问题记录模板

### 问题标题
**描述**: 简短描述问题  
**复现步骤**: 
1. 步骤1
2. 步骤2
3. 步骤3

**预期结果**: 应该怎样  
**实际结果**: 实际是怎样  
**截图**: （如有）  
**控制台错误**: （复制console错误信息）  

---

## 🎯 测试优先级

### P0 (最高优先级)
- 登录功能
- 页面基本显示
- 导航切换
- WebSocket连接

### P1 (高优先级)
- 消息发送接收
- 店铺列表加载
- 数据统计显示
- 基本操作功能

### P2 (中优先级)
- 搜索筛选
- 编辑删除
- 样式细节
- 动画效果

### P3 (低优先级)
- 高级功能
- 优化体验
- 性能调优

---

## ✅ 测试完成标准

- [ ] 所有P0功能正常
- [ ] 所有P1功能正常
- [ ] 90%以上P2功能正常
- [ ] 无严重bug
- [ ] 无控制台错误
- [ ] 性能指标达标
- [ ] 用户体验良好

---

**测试人员**: _____________  
**测试日期**: _____________  
**测试版本**: 重构优化版  
**测试结果**: ⬜ 通过 / ⬜ 不通过  

**备注**: 
_______________________________________________
_______________________________________________
_______________________________________________
