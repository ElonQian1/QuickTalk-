# 🎯 网页客服系统

一个基于 Rust + WebSocket 的实时网页客服系统，支持用户与客服人员进行实时对话。

## ✨ 功能特性

### 用户端
- 🎨 美观的聊天界面
- 💬 实时消息收发
- 📱 响应式设计，支持移动端
- 🔔 连接状态显示
- ⚡ 自动重连机制

### 客服端
- 👨‍💼 客服管理后台
- 👥 在线用户列表
- 💬 多用户聊天管理
- 📊 消息历史记录
- 🔄 实时消息同步

## 🚀 快速开始

### 1. 安装依赖

确保您的系统已安装 Rust：

```bash
curl --proto '=https' --tlsv1.2 -sSf https://sh.rustup.rs | sh
```

### 2. 启动服务器

```bash
# 进入项目目录
cd 论坛客服项目

# 运行服务器
cargo run
```

### 3. 访问应用

- **用户界面**: http://localhost:3030
- **客服后台**: http://localhost:3030/admin

## 📁 项目结构

```
论坛客服项目/
├── src/
│   └── main.rs          # Rust 服务器主程序
├── static/
│   ├── index.html       # 用户聊天页面
│   ├── admin.html       # 客服管理后台
│   ├── style.css        # 样式文件
│   └── chat.js          # 客服功能 JavaScript
├── Cargo.toml           # Rust 项目配置
└── README.md           # 项目说明
```

## 🛠️ 技术栈

### 后端
- **Rust** - 主要编程语言
- **Warp** - Web 框架
- **Tokio** - 异步运行时
- **WebSocket** - 实时通信协议
- **Serde** - 序列化/反序列化

### 前端
- **HTML5** - 页面结构
- **CSS3** - 样式设计
- **JavaScript** - 交互逻辑
- **WebSocket API** - 实时通信

## 🎨 界面预览

### 用户聊天界面
- 右下角浮动客服按钮
- 弹出式聊天窗口
- 实时消息交互
- 连接状态指示

### 客服管理后台
- 用户列表管理
- 多窗口聊天界面
- 消息历史查看
- 实时状态更新

## 🔧 配置说明

### 服务器配置
- 默认端口：`3030`
- WebSocket 路径：`/ws`
- 静态文件目录：`static/`

### 自定义配置
您可以修改 `src/main.rs` 中的以下设置：
- 服务器端口
- 自动回复逻辑
- 用户连接管理
- 消息处理机制

## 🤖 自动回复功能

系统内置智能自动回复，支持以下关键词识别：
- 问候语：你好、hello、hi
- 价格咨询：价格、多少钱、费用
- 技术问题：技术、问题、bug
- 联系方式：联系、电话、邮箱
- 感谢语：谢谢、感谢
- 告别语：再见、拜拜

## 📈 扩展功能

### 可添加的功能
1. **用户认证** - 添加用户登录系统
2. **消息存储** - 集成数据库保存聊天记录
3. **文件传输** - 支持图片和文件发送
4. **多客服支持** - 客服人员分配和管理
5. **通知系统** - 新消息提醒和推送
6. **数据统计** - 聊天数据分析和报表

### 部署建议
1. **生产环境** - 使用 Docker 容器化部署
2. **负载均衡** - 配置 Nginx 反向代理
3. **HTTPS** - 添加 SSL 证书支持
4. **监控日志** - 集成日志收集和监控系统

## 🔒 安全注意事项

1. **输入验证** - 对用户输入进行严格验证
2. **消息过滤** - 防止恶意内容和 XSS 攻击
3. **连接限制** - 限制单个 IP 的连接数量
4. **权限控制** - 客服后台添加身份验证

## 🐛 故障排除

### 常见问题

**WebSocket 连接失败**
- 检查防火墙设置
- 确认端口 3030 未被占用
- 查看浏览器控制台错误信息

**消息发送失败**
- 检查网络连接状态
- 确认服务器正常运行
- 查看服务器日志输出

**页面样式异常**
- 清除浏览器缓存
- 检查静态文件路径
- 确认 CSS 文件正确加载

## 📝 开发日志

- ✅ 基础聊天功能实现
- ✅ WebSocket 实时通信
- ✅ 客服管理后台
- ✅ 自动回复机制
- ✅ 响应式界面设计
- 🔄 数据库集成 (计划中)
- 🔄 用户认证系统 (计划中)

## 🤝 贡献指南

欢迎提交 Issue 和 Pull Request 来改进这个项目！

## 📄 许可证

本项目采用 MIT 许可证开源。

---

**享受您的客服系统体验！** 🎉
