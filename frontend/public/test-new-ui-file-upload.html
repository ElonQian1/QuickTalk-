<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>QuickTalk客服系统 - 新UI文件上传测试</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
        }
        
        .container {
            background: white;
            border-radius: 15px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.3);
        }
        
        .header {
            text-align: center;
            margin-bottom: 30px;
        }
        
        .header h1 {
            color: #333;
            margin-bottom: 10px;
        }
        
        .version-badge {
            background: #667eea;
            color: white;
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .features-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin: 30px 0;
        }
        
        .feature-card {
            background: #f8f9fa;
            border: 1px solid #e9ecef;
            border-radius: 12px;
            padding: 20px;
        }
        
        .feature-card h3 {
            color: #667eea;
            margin: 0 0 15px 0;
            font-size: 18px;
        }
        
        .feature-list {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        
        .feature-list li {
            padding: 8px 0;
            border-bottom: 1px solid #eee;
        }
        
        .feature-list li:last-child {
            border-bottom: none;
        }
        
        .feature-list li::before {
            content: '✅ ';
            margin-right: 8px;
        }
        
        .demo-section {
            background: #e3f2fd;
            border: 1px solid #2196f3;
            border-radius: 12px;
            padding: 20px;
            margin: 20px 0;
        }
        
        .demo-section h3 {
            color: #1976d2;
            margin: 0 0 15px 0;
        }
        
        .btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 12px 24px;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            margin: 5px;
            transition: all 0.2s;
        }
        
        .btn:hover {
            background: #5a6fd8;
            transform: translateY(-2px);
        }
        
        .comparison {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 30px 0;
        }
        
        .comparison-item {
            padding: 20px;
            border-radius: 8px;
        }
        
        .old-ui {
            background: #fff3cd;
            border: 1px solid #ffeaa7;
        }
        
        .new-ui {
            background: #d1ecf1;
            border: 1px solid #bee5eb;
        }
        
        .comparison h4 {
            margin: 0 0 15px 0;
            font-size: 16px;
        }
        
        .old-ui h4 {
            color: #856404;
        }
        
        .new-ui h4 {
            color: #0c5460;
        }
        
        @media (max-width: 768px) {
            .comparison {
                grid-template-columns: 1fr;
            }
            
            .features-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>🎨 QuickTalk客服系统 - 新UI设计</h1>
            <div class="version-badge">v1.2.0 - 现代化文件上传界面</div>
        </div>

        <div class="demo-section">
            <h3>🚀 立即体验新UI</h3>
            <p>点击下面的按钮体验全新的文件上传界面设计！</p>
            <button class="btn" onclick="loadNewUI()">加载新UI客服系统</button>
            <button class="btn" onclick="openMobileView()">移动端预览</button>
        </div>

        <div class="features-grid">
            <div class="feature-card">
                <h3>🎯 界面改进</h3>
                <ul class="feature-list">
                    <li>输入框内置文件按钮</li>
                    <li>SVG图标替代emoji</li>
                    <li>现代化圆形按钮设计</li>
                    <li>聚焦状态蓝色边框</li>
                    <li>悬停效果和过渡动画</li>
                </ul>
            </div>

            <div class="feature-card">
                <h3>📁 文件类型支持</h3>
                <ul class="feature-list">
                    <li>🖼️ 图片文件（PNG, JPG, GIF等）</li>
                    <li>📄 文档文件（PDF, DOC, XLS等）</li>
                    <li>🎥 视频文件（MP4, AVI, MOV等）</li>
                    <li>🎵 音频文件（MP3, WAV, AAC等）</li>
                    <li>智能文件类型识别</li>
                </ul>
            </div>

            <div class="feature-card">
                <h3>✨ 交互体验</h3>
                <ul class="feature-list">
                    <li>模态框文件上传界面</li>
                    <li>实时预览功能</li>
                    <li>拖拽上传支持</li>
                    <li>上传进度条显示</li>
                    <li>移动端友好设计</li>
                </ul>
            </div>

            <div class="feature-card">
                <h3>📱 响应式设计</h3>
                <ul class="feature-list">
                    <li>移动端优化布局</li>
                    <li>触摸友好的按钮尺寸</li>
                    <li>适配不同屏幕尺寸</li>
                    <li>优化的模态框显示</li>
                    <li>一致的用户体验</li>
                </ul>
            </div>
        </div>

        <div class="comparison">
            <div class="comparison-item old-ui">
                <h4>❌ 旧版UI问题</h4>
                <ul>
                    <li>文件按钮单独一行，占用空间</li>
                    <li>只有单一的图片上传选项</li>
                    <li>展开式布局破坏聊天流</li>
                    <li>缺少文件类型分类</li>
                    <li>移动端体验不佳</li>
                    <li>没有拖拽上传功能</li>
                </ul>
            </div>

            <div class="comparison-item new-ui">
                <h4>✅ 新版UI优势</h4>
                <ul>
                    <li>输入框集成设计，节省空间</li>
                    <li>支持多种文件类型选择</li>
                    <li>模态框不干扰聊天界面</li>
                    <li>清晰的文件类型图标</li>
                    <li>移动端完美适配</li>
                    <li>支持拖拽文件上传</li>
                </ul>
            </div>
        </div>

        <div class="demo-section">
            <h3>📝 使用指南</h3>
            <ol>
                <li><strong>点击文件按钮</strong> - 在输入框右侧找到文档图标</li>
                <li><strong>选择文件类型</strong> - 从弹出菜单选择：图片、文档、视频、音频</li>
                <li><strong>选择文件</strong> - 系统会打开对应类型的文件选择器</li>
                <li><strong>预览确认</strong> - 在模态框中查看文件预览</li>
                <li><strong>发送文件</strong> - 点击发送按钮完成上传</li>
            </ol>
            
            <p><strong>💡 提示：</strong>您还可以直接将文件拖拽到聊天区域进行快速上传！</p>
        </div>
    </div>

    <script>
        function loadNewUI() {
            // 模拟客户网站嵌入的动态加载代码
            const script = document.createElement('script');
            script.innerHTML = `
                (function() {
                    const QUICKTALK_CONFIG = {
                        shopKey: 'sk_ji85ucic9p00m12as1ygf34o8humuxfl',
                        shopId: 'shop_1757591780450_1',
                        shopName: '时尚服装店',
                        authorizedDomain: 'bbs16.929991.xyz',
                        serverUrl: 'http://localhost:3030',
                        version: '1.2.0',
                        cacheBreaker: Date.now()
                    };
                    
                    console.log('🎨 QuickTalk客服系统：加载新UI (v1.2.0)...');
                    
                    function loadCSS() {
                        const link = document.createElement('link');
                        link.rel = 'stylesheet';
                        link.type = 'text/css';
                        link.href = QUICKTALK_CONFIG.serverUrl + '/embed/customer-service.css?v=' + QUICKTALK_CONFIG.cacheBreaker;
                        document.head.appendChild(link);
                    }
                    
                    function loadJS() {
                        const script = document.createElement('script');
                        script.type = 'text/javascript';
                        script.src = QUICKTALK_CONFIG.serverUrl + '/embed/customer-service.js?v=' + QUICKTALK_CONFIG.cacheBreaker;
                        
                        script.onload = () => {
                            console.log('✅ 新UI客服系统加载成功');
                            
                            if (window.QuickTalkCustomerService) {
                                window.QuickTalkCustomerService.init(QUICKTALK_CONFIG);
                                
                                // 显示加载成功提示
                                setTimeout(() => {
                                    alert('🎉 新UI客服系统加载完成！\\n\\n请查看页面右下角的客服按钮，点击后体验全新的文件上传界面设计。\\n\\n新功能包括：\\n• 多文件类型选择\\n• 模态框上传界面\\n• 拖拽上传支持\\n• 移动端优化');
                                }, 1000);
                            }
                        };
                        
                        script.onerror = () => {
                            alert('❌ 加载失败，请确保服务器运行中');
                        };
                        
                        document.head.appendChild(script);
                    }
                    
                    loadCSS();
                    loadJS();
                    window.QUICKTALK_EMBED_CONFIG = QUICKTALK_CONFIG;
                })();
            `;
            
            document.head.appendChild(script);
        }
        
        function openMobileView() {
            const width = 375;
            const height = 667;
            const left = (screen.width / 2) - (width / 2);
            const top = (screen.height / 2) - (height / 2);
            
            const mobileWindow = window.open(
                window.location.href,
                'mobile-preview',
                `width=${width},height=${height},left=${left},top=${top},scrollbars=yes,resizable=yes`
            );
            
            if (mobileWindow) {
                mobileWindow.focus();
                setTimeout(() => {
                    mobileWindow.loadNewUI();
                }, 1000);
            }
        }
        
        // 页面加载完成后的说明
        document.addEventListener('DOMContentLoaded', function() {
            console.log('🎨 QuickTalk新UI测试页面加载完成');
            console.log('点击"加载新UI客服系统"体验最新设计！');
        });
    </script>
</body>
</html>