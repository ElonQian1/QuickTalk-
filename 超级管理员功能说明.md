# 超级管理员功能说明

## 功能概述

超级管理员账号拥有监测每个店主开了多少店铺的一切权限，可以全面管理系统中的用户、店铺和数据。

## 登录信息

- **用户名**: admin
- **密码**: admin123
- **角色**: super_admin

## 主要功能

### 1. 系统概览 📊

超级管理员可以查看系统整体统计数据：
- 总用户数
- 总店铺数
- 店主数量
- 员工数量
- 各类用户角色分布
- 店铺状态统计

### 2. 店主管理 👥

#### 店主列表查看
- 显示所有店主的详细信息
- 用户名、邮箱、注册时间、最后登录时间
- 每个店主拥有的店铺数量
- 每个店主管理的总成员数

#### 店主搜索功能
- 支持按用户名搜索
- 支持按邮箱搜索
- 支持按店铺名称搜索
- 支持按域名搜索

#### 店主详情查看
- 查看店主的基本信息
- 查看店主拥有的所有店铺详情
- 查看每个店铺的成员列表
- 查看店铺创建时间和状态

#### 店主权限管理
- **禁用店主**: 暂停店主账号，同时暂停其所有店铺
- **启用店主**: 恢复店主账号和店铺正常运行
- **删除店主**: 永久删除店主及其所有店铺数据（危险操作）

### 3. 店铺监控 🏪

#### 全局店铺监控
- 查看系统中所有店铺列表
- 监控店铺运行状态
- 查看店铺域名和创建时间
- 识别活跃和暂停的店铺

#### 店铺状态管理
- 监控店铺是否正常运行
- 查看店铺成员数量
- 跟踪店铺创建和更新时间

## API接口

### 系统统计
```
GET /api/admin/system-stats
```
获取系统整体统计数据

### 店主统计
```
GET /api/admin/shop-owners-stats
GET /api/admin/shop-owners-stats?keyword=搜索关键词
```
获取所有店主及其店铺统计，支持搜索

### 店主详情
```
GET /api/admin/shop-owner/:ownerId
```
获取特定店主的详细信息

### 店主状态管理
```
PUT /api/admin/shop-owner/:ownerId/status
Body: { "status": "active" | "suspended" }
```
启用或禁用店主账号

### 删除店主
```
DELETE /api/admin/shop-owner/:ownerId
Body: { "confirm": "DELETE_ALL_DATA" }
```
永久删除店主及其所有数据

### 店铺列表
```
GET /api/admin/shops
```
获取系统中所有店铺列表

## 安全特性

### 权限验证
- 所有管理员API都需要超级管理员权限
- 使用session验证用户身份
- 非超级管理员无法访问管理功能

### 危险操作确认
- 删除店主需要双重确认
- 输入确认文本"DELETE_ALL_DATA"
- 操作不可逆，需谨慎使用

### 数据完整性
- 禁用店主时自动暂停其所有店铺
- 启用店主时恢复其所有店铺
- 删除店主时清理所有关联数据

## 界面特色

### 响应式设计
- 支持PC和移动设备
- 现代化UI设计
- 直观的数据展示

### 实时数据
- 支持数据刷新
- 实时搜索功能
- 动态状态更新

### 操作反馈
- 清晰的成功/失败提示
- 操作确认对话框
- 加载状态指示

## 使用场景

### 日常监控
1. 登录超级管理员账号
2. 查看系统概览了解整体状况
3. 检查店主管理页面了解用户活跃度
4. 监控店铺运行状态

### 用户管理
1. 搜索特定店主
2. 查看店主详细信息
3. 管理问题账号（禁用/启用）
4. 处理违规店主（删除账号）

### 数据分析
1. 统计系统用户增长
2. 分析店铺创建趋势
3. 监控活跃店铺数量
4. 评估平台健康度

## 注意事项

### 权限管理
- 超级管理员权限极高，请妥善保管账号
- 不要随意删除店主数据
- 定期检查系统状态

### 数据备份
- 重要操作前建议备份数据
- 删除操作无法恢复
- 监控数据完整性

### 性能考虑
- 大量数据时分页加载
- 使用搜索功能提高效率
- 定期清理无效数据

## 技术实现

### 后端技术
- Node.js + Express
- 内存数据库（可扩展为真实数据库）
- RESTful API设计
- 会话认证机制

### 前端技术
- 原生JavaScript
- 响应式CSS
- 模态框交互
- 异步数据加载

### 安全机制
- 角色权限验证
- 会话管理
- 输入验证
- 错误处理

---

**开发完成**: 2025年9月7日
**版本**: v1.0
**状态**: ✅ 功能完整，可投入使用
