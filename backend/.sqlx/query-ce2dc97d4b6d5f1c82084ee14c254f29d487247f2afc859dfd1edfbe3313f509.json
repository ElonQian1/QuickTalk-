{
  "db_name": "SQLite",
  "query": "\n        WITH accessible_shops AS (\n            SELECT id AS shop_id FROM shops WHERE owner_id = ?\n            UNION\n            SELECT shop_id FROM shop_staffs WHERE user_id = ?\n        )\n        SELECT COUNT(*)\n        FROM customers c\n        JOIN accessible_shops a ON c.shop_id = a.shop_id\n        WHERE c.last_active_at >= datetime('now','-7 days')\n        ",
  "describe": {
    "columns": [
      {
        "name": "COUNT(*)",
        "ordinal": 0,
        "type_info": "Int"
      }
    ],
    "parameters": {
      "Right": 2
    },
    "nullable": [
      false
    ]
  },
  "hash": "ce2dc97d4b6d5f1c82084ee14c254f29d487247f2afc859dfd1edfbe3313f509"
}
