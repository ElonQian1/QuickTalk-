/* 聊天视图样式与输入区适配（对齐 components/messages/* 的类名） */

/* 聊天头部 */
.chat-header {
  display: flex; align-items: center; justify-content: space-between;
  padding: 10px 12px; background: #fff; border-bottom: 1px solid #eef2f7;
  position: sticky; top: 0; z-index: 5;
}
.chat-header .customer-info { display: flex; align-items: center; gap: 10px; min-width: 0; }
.customer-avatar { width: 36px; height: 36px; border-radius: 50%; display: inline-flex; align-items: center; justify-content: center; font-weight: 700; color: #fff; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); flex-shrink: 0; }
.customer-details { display: flex; flex-direction: column; min-width: 0; }
.customer-name { font-size: 14px; font-weight: 700; color: #2c3e50; overflow: hidden; text-overflow: ellipsis; white-space: nowrap; }
.customer-status { font-size: 12px; color: #6c757d; }

.chat-actions { display: flex; align-items: center; gap: 8px; }
.chat-action-btn { width: 36px; height: 36px; border-radius: 10px; border: 1px solid #e9ecef; background: #fff; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; transition: all .2s ease; }
.chat-action-btn:hover { border-color: #667eea; box-shadow: 0 2px 8px rgba(102,126,234,.12); transform: translateY(-1px); }

/* 输入区工具栏 */
.input-toolbar { display: flex; align-items: center; gap: 8px; padding: 8px 0; }
.input-toolbar .media-btn,
.input-toolbar .quick-reply-toggle,
.input-toolbar .emoji-btn { width: 36px; height: 36px; border-radius: 10px; border: 1px solid #e9ecef; background: #fff; cursor: pointer; display: inline-flex; align-items: center; justify-content: center; transition: all .2s ease; }
.input-toolbar .media-btn:hover,
.input-toolbar .quick-reply-toggle:hover,
.input-toolbar .emoji-btn:hover { border-color: #667eea; box-shadow: 0 2px 8px rgba(102,126,234,.12); }

/* 主输入区 */
.main-input-area { display: flex; align-items: center; gap: 8px; padding-top: 6px; }
.main-input-area .chat-input { flex: 1; border: 2px solid #e9ecef; border-radius: 25px; padding: 12px 16px; font-size: 15px; outline: none; transition: border-color 0.3s; min-width: 0; background: #fff; }
.main-input-area .chat-input:focus { border-color: #667eea; }
.voice-btn { width: 40px; height: 40px; border-radius: 12px; border: 1px solid #e9ecef; background: #fff; display: inline-flex; align-items: center; justify-content: center; cursor: pointer; transition: all .2s ease; }
.voice-btn:hover { border-color: #667eea; box-shadow: 0 2px 8px rgba(102,126,234,.12); }
.voice-btn.active,
.voice-btn.recording { background: #667eea; color: #fff; border-color: #667eea; animation: voicePulse 1.5s ease-in-out infinite; }
@keyframes voicePulse { 0%, 100% { opacity: 1; } 50% { opacity: 0.7; } }
.send-btn { height: 40px; padding: 0 14px; border-radius: 12px; border: none; background: #667eea; color: #fff; font-weight: 700; cursor: pointer; transition: all .2s ease; }
.send-btn:active:not(:disabled) { transform: scale(.98); }
.send-btn:disabled,
.send-btn.disabled { background: #cbd5e0; color: #a0aec0; cursor: not-allowed; opacity: 0.6; }
.send-btn:hover:not(:disabled) { background: #5568d3; box-shadow: 0 2px 8px rgba(102,126,234,.3); }

/* 快捷回复 */
.quick-replies { display: flex; gap: 8px; padding: 8px 0; overflow-x: auto; scrollbar-width: none; -ms-overflow-style: none; max-height: 0; opacity: 0; transition: max-height 0.3s ease, opacity 0.3s ease, padding 0.3s ease; overflow: hidden; }
.quick-replies.show { max-height: 48px; opacity: 1; padding: 8px 0; }
.quick-replies::-webkit-scrollbar { display: none; }
.quick-reply-btn { flex-shrink: 0; padding: 6px 12px; background: #f0f0f0; border: 1px solid #ddd; border-radius: 16px; font-size: 12px; color: #333; cursor: pointer; transition: all 0.2s ease; white-space: nowrap; }
.quick-reply-btn:hover { background: #e3f2fd; border-color: #667eea; color: #667eea; }

/* 安全区适配 */
@media (max-width: 480px) {
  .chat-input-container { padding-bottom: env(safe-area-inset-bottom, 0); }
}